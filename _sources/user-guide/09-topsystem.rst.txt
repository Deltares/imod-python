
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "user-guide\09-topsystem.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_user-guide_09-topsystem.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_user-guide_09-topsystem.py:


Topsystem: from 2D map to 3D model
==================================

iMOD Python has multiple features to help you define the topsystem of the
groundwater system. With "topsystem" we mean all forcings which act on the top
of the groundwater system. These are usually either meteorological
(precipitation & evapotranspiration) or hydrological (rivers, ditches, lakes,
sea) in nature. In MODFLOW6 these are usually simulated with the DRN, RIV, GHB,
and RCH package. This data is usually provided as planar grids (x, y) without
any vertical dimension. This user guide will show you how to allocate these
forcings across model layers to grid cells and how to distribute conductances
for Robin-like boundary conditions (RIV, DRN, GHB) over model layers. We will
demonstrate this with the RIV package, as this package supports all options for
allocating cells and distributing conductances. A subset of options are
available for the DRN, GHB, and RCH packages.

.. GENERATED FROM PYTHON SOURCE LINES 19-21

.. code-block:: Python
   :dedent: 1










.. GENERATED FROM PYTHON SOURCE LINES 23-30

Example data
------------

Let's load the data first. We have a layer model containing a basic
hydrogeological schemitization of our model, so the tops and bottoms of model
layers, the hydraulic conductivity (k), and which cells are active (idomain=1)
or vertical passthrough (idomain=-1).

.. GENERATED FROM PYTHON SOURCE LINES 30-37

.. code-block:: Python


    import imod

    layer_model = imod.data.hondsrug_layermodel_topsystem()

    layer_model






.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
    <defs>
    <symbol id="icon-database" viewBox="0 0 32 32">
    <path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
    <path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    <path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    </symbol>
    <symbol id="icon-file-text2" viewBox="0 0 32 32">
    <path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
    <path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    </symbol>
    </defs>
    </svg>
    <style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
     *
     */

    :root {
      --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
      --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
      --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
      --xr-border-color: var(--jp-border-color2, #e0e0e0);
      --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
      --xr-background-color: var(--jp-layout-color0, white);
      --xr-background-color-row-even: var(--jp-layout-color1, white);
      --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
    }

    html[theme=dark],
    html[data-theme=dark],
    body[data-theme=dark],
    body.vscode-dark {
      --xr-font-color0: rgba(255, 255, 255, 1);
      --xr-font-color2: rgba(255, 255, 255, 0.54);
      --xr-font-color3: rgba(255, 255, 255, 0.38);
      --xr-border-color: #1F1F1F;
      --xr-disabled-color: #515151;
      --xr-background-color: #111111;
      --xr-background-color-row-even: #111111;
      --xr-background-color-row-odd: #313131;
    }

    .xr-wrap {
      display: block !important;
      min-width: 300px;
      max-width: 700px;
    }

    .xr-text-repr-fallback {
      /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
      display: none;
    }

    .xr-header {
      padding-top: 6px;
      padding-bottom: 6px;
      margin-bottom: 4px;
      border-bottom: solid 1px var(--xr-border-color);
    }

    .xr-header > div,
    .xr-header > ul {
      display: inline;
      margin-top: 0;
      margin-bottom: 0;
    }

    .xr-obj-type,
    .xr-array-name {
      margin-left: 2px;
      margin-right: 10px;
    }

    .xr-obj-type {
      color: var(--xr-font-color2);
    }

    .xr-sections {
      padding-left: 0 !important;
      display: grid;
      grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
    }

    .xr-section-item {
      display: contents;
    }

    .xr-section-item input {
      display: inline-block;
      opacity: 0;
    }

    .xr-section-item input + label {
      color: var(--xr-disabled-color);
    }

    .xr-section-item input:enabled + label {
      cursor: pointer;
      color: var(--xr-font-color2);
    }

    .xr-section-item input:focus + label {
      border: 2px solid var(--xr-font-color0);
    }

    .xr-section-item input:enabled + label:hover {
      color: var(--xr-font-color0);
    }

    .xr-section-summary {
      grid-column: 1;
      color: var(--xr-font-color2);
      font-weight: 500;
    }

    .xr-section-summary > span {
      display: inline-block;
      padding-left: 0.5em;
    }

    .xr-section-summary-in:disabled + label {
      color: var(--xr-font-color2);
    }

    .xr-section-summary-in + label:before {
      display: inline-block;
      content: '►';
      font-size: 11px;
      width: 15px;
      text-align: center;
    }

    .xr-section-summary-in:disabled + label:before {
      color: var(--xr-disabled-color);
    }

    .xr-section-summary-in:checked + label:before {
      content: '▼';
    }

    .xr-section-summary-in:checked + label > span {
      display: none;
    }

    .xr-section-summary,
    .xr-section-inline-details {
      padding-top: 4px;
      padding-bottom: 4px;
    }

    .xr-section-inline-details {
      grid-column: 2 / -1;
    }

    .xr-section-details {
      display: none;
      grid-column: 1 / -1;
      margin-bottom: 5px;
    }

    .xr-section-summary-in:checked ~ .xr-section-details {
      display: contents;
    }

    .xr-array-wrap {
      grid-column: 1 / -1;
      display: grid;
      grid-template-columns: 20px auto;
    }

    .xr-array-wrap > label {
      grid-column: 1;
      vertical-align: top;
    }

    .xr-preview {
      color: var(--xr-font-color3);
    }

    .xr-array-preview,
    .xr-array-data {
      padding: 0 5px !important;
      grid-column: 2;
    }

    .xr-array-data,
    .xr-array-in:checked ~ .xr-array-preview {
      display: none;
    }

    .xr-array-in:checked ~ .xr-array-data,
    .xr-array-preview {
      display: inline-block;
    }

    .xr-dim-list {
      display: inline-block !important;
      list-style: none;
      padding: 0 !important;
      margin: 0;
    }

    .xr-dim-list li {
      display: inline-block;
      padding: 0;
      margin: 0;
    }

    .xr-dim-list:before {
      content: '(';
    }

    .xr-dim-list:after {
      content: ')';
    }

    .xr-dim-list li:not(:last-child):after {
      content: ',';
      padding-right: 5px;
    }

    .xr-has-index {
      font-weight: bold;
    }

    .xr-var-list,
    .xr-var-item {
      display: contents;
    }

    .xr-var-item > div,
    .xr-var-item label,
    .xr-var-item > .xr-var-name span {
      background-color: var(--xr-background-color-row-even);
      margin-bottom: 0;
    }

    .xr-var-item > .xr-var-name:hover span {
      padding-right: 5px;
    }

    .xr-var-list > li:nth-child(odd) > div,
    .xr-var-list > li:nth-child(odd) > label,
    .xr-var-list > li:nth-child(odd) > .xr-var-name span {
      background-color: var(--xr-background-color-row-odd);
    }

    .xr-var-name {
      grid-column: 1;
    }

    .xr-var-dims {
      grid-column: 2;
    }

    .xr-var-dtype {
      grid-column: 3;
      text-align: right;
      color: var(--xr-font-color2);
    }

    .xr-var-preview {
      grid-column: 4;
    }

    .xr-index-preview {
      grid-column: 2 / 5;
      color: var(--xr-font-color2);
    }

    .xr-var-name,
    .xr-var-dims,
    .xr-var-dtype,
    .xr-preview,
    .xr-attrs dt {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-right: 10px;
    }

    .xr-var-name:hover,
    .xr-var-dims:hover,
    .xr-var-dtype:hover,
    .xr-attrs dt:hover {
      overflow: visible;
      width: auto;
      z-index: 1;
    }

    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      display: none;
      background-color: var(--xr-background-color) !important;
      padding-bottom: 5px !important;
    }

    .xr-var-attrs-in:checked ~ .xr-var-attrs,
    .xr-var-data-in:checked ~ .xr-var-data,
    .xr-index-data-in:checked ~ .xr-index-data {
      display: block;
    }

    .xr-var-data > table {
      float: right;
    }

    .xr-var-name span,
    .xr-var-data,
    .xr-index-name div,
    .xr-index-data,
    .xr-attrs {
      padding-left: 25px !important;
    }

    .xr-attrs,
    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      grid-column: 1 / -1;
    }

    dl.xr-attrs {
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: 125px auto;
    }

    .xr-attrs dt,
    .xr-attrs dd {
      padding: 0;
      margin: 0;
      float: left;
      padding-right: 10px;
      width: auto;
    }

    .xr-attrs dt {
      font-weight: normal;
      grid-column: 1;
    }

    .xr-attrs dt:hover span {
      display: inline-block;
      background: var(--xr-background-color);
      padding-right: 10px;
    }

    .xr-attrs dd {
      grid-column: 2;
      white-space: pre-wrap;
      word-break: break-all;
    }

    .xr-icon-database,
    .xr-icon-file-text2,
    .xr-no-icon {
      display: inline-block;
      vertical-align: middle;
      width: 1em;
      height: 1.5em !important;
      stroke-width: 0;
      stroke: currentColor;
      fill: currentColor;
    }
    </style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 64MB
    Dimensions:  (layer: 20, y: 200, x: 500)
    Coordinates:
      * layer    (layer) int64 160B 1 2 3 4 5 6 7 8 9 ... 12 13 14 15 16 17 18 19 20
      * x        (x) float64 4kB 2.375e+05 2.375e+05 2.376e+05 ... 2.5e+05 2.5e+05
      * y        (y) float64 2kB 5.64e+05 5.64e+05 5.639e+05 ... 5.59e+05 5.59e+05
        dx       float64 8B 25.0
        dy       float64 8B -25.0
    Data variables:
        k        (layer, y, x) float64 16MB nan nan nan nan ... 15.39 15.38 15.44
        idomain  (layer, y, x) float64 16MB -1.0 -1.0 -1.0 -1.0 ... 1.0 1.0 1.0 1.0
        top      (layer, y, x) float64 16MB 6.329 6.329 6.329 ... -16.92 -16.92
        bottom   (layer, y, x) float64 16MB 6.329 6.329 6.329 ... -19.68 -19.68</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-8ee97988-a187-4c36-9bea-a3545028e4f6' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-8ee97988-a187-4c36-9bea-a3545028e4f6' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>layer</span>: 20</li><li><span class='xr-has-index'>y</span>: 200</li><li><span class='xr-has-index'>x</span>: 500</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-65fa651f-4d41-4cc8-9c4d-a3352df0372a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-65fa651f-4d41-4cc8-9c4d-a3352df0372a' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>layer</span></div><div class='xr-var-dims'>(layer)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1 2 3 4 5 6 7 ... 15 16 17 18 19 20</div><input id='attrs-3271b125-1dec-469b-9765-8cd12d416b9f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-3271b125-1dec-469b-9765-8cd12d416b9f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-07f0c26f-4b42-4850-b7bc-0919fc410f0e' class='xr-var-data-in' type='checkbox'><label for='data-07f0c26f-4b42-4850-b7bc-0919fc410f0e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
           19, 20])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.375e+05 2.375e+05 ... 2.5e+05</div><input id='attrs-7269dbb3-1b81-43c1-84a2-50ac41bb622f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7269dbb3-1b81-43c1-84a2-50ac41bb622f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-43e7a100-375e-4049-bec6-1b46c6712511' class='xr-var-data-in' type='checkbox'><label for='data-43e7a100-375e-4049-bec6-1b46c6712511' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([237512.5, 237537.5, 237562.5, ..., 249937.5, 249962.5, 249987.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.64e+05 5.64e+05 ... 5.59e+05</div><input id='attrs-a184ec82-978e-4eb3-bca8-b9e51251ce02' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a184ec82-978e-4eb3-bca8-b9e51251ce02' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d9773183-f5e3-4c07-acee-ab43ff6850dd' class='xr-var-data-in' type='checkbox'><label for='data-d9773183-f5e3-4c07-acee-ab43ff6850dd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([563987.5, 563962.5, 563937.5, 563912.5, 563887.5, 563862.5, 563837.5,
           563812.5, 563787.5, 563762.5, 563737.5, 563712.5, 563687.5, 563662.5,
           563637.5, 563612.5, 563587.5, 563562.5, 563537.5, 563512.5, 563487.5,
           563462.5, 563437.5, 563412.5, 563387.5, 563362.5, 563337.5, 563312.5,
           563287.5, 563262.5, 563237.5, 563212.5, 563187.5, 563162.5, 563137.5,
           563112.5, 563087.5, 563062.5, 563037.5, 563012.5, 562987.5, 562962.5,
           562937.5, 562912.5, 562887.5, 562862.5, 562837.5, 562812.5, 562787.5,
           562762.5, 562737.5, 562712.5, 562687.5, 562662.5, 562637.5, 562612.5,
           562587.5, 562562.5, 562537.5, 562512.5, 562487.5, 562462.5, 562437.5,
           562412.5, 562387.5, 562362.5, 562337.5, 562312.5, 562287.5, 562262.5,
           562237.5, 562212.5, 562187.5, 562162.5, 562137.5, 562112.5, 562087.5,
           562062.5, 562037.5, 562012.5, 561987.5, 561962.5, 561937.5, 561912.5,
           561887.5, 561862.5, 561837.5, 561812.5, 561787.5, 561762.5, 561737.5,
           561712.5, 561687.5, 561662.5, 561637.5, 561612.5, 561587.5, 561562.5,
           561537.5, 561512.5, 561487.5, 561462.5, 561437.5, 561412.5, 561387.5,
           561362.5, 561337.5, 561312.5, 561287.5, 561262.5, 561237.5, 561212.5,
           561187.5, 561162.5, 561137.5, 561112.5, 561087.5, 561062.5, 561037.5,
           561012.5, 560987.5, 560962.5, 560937.5, 560912.5, 560887.5, 560862.5,
           560837.5, 560812.5, 560787.5, 560762.5, 560737.5, 560712.5, 560687.5,
           560662.5, 560637.5, 560612.5, 560587.5, 560562.5, 560537.5, 560512.5,
           560487.5, 560462.5, 560437.5, 560412.5, 560387.5, 560362.5, 560337.5,
           560312.5, 560287.5, 560262.5, 560237.5, 560212.5, 560187.5, 560162.5,
           560137.5, 560112.5, 560087.5, 560062.5, 560037.5, 560012.5, 559987.5,
           559962.5, 559937.5, 559912.5, 559887.5, 559862.5, 559837.5, 559812.5,
           559787.5, 559762.5, 559737.5, 559712.5, 559687.5, 559662.5, 559637.5,
           559612.5, 559587.5, 559562.5, 559537.5, 559512.5, 559487.5, 559462.5,
           559437.5, 559412.5, 559387.5, 559362.5, 559337.5, 559312.5, 559287.5,
           559262.5, 559237.5, 559212.5, 559187.5, 559162.5, 559137.5, 559112.5,
           559087.5, 559062.5, 559037.5, 559012.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dx</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>25.0</div><input id='attrs-c438d722-9095-4b0d-aa0b-bc2ca5acffe3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c438d722-9095-4b0d-aa0b-bc2ca5acffe3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ab3395c5-abe7-4482-a94c-b7777449c7d4' class='xr-var-data-in' type='checkbox'><label for='data-ab3395c5-abe7-4482-a94c-b7777449c7d4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(25.)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dy</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-25.0</div><input id='attrs-f23486fb-546f-4393-af81-8401a95cfb93' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f23486fb-546f-4393-af81-8401a95cfb93' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f5dc5c96-0d3f-4ebe-b4ed-fe1c932f12f6' class='xr-var-data-in' type='checkbox'><label for='data-f5dc5c96-0d3f-4ebe-b4ed-fe1c932f12f6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(-25.)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b83b9793-f1e4-4ed7-bb4a-430bcdc3ae27' class='xr-section-summary-in' type='checkbox'  checked><label for='section-b83b9793-f1e4-4ed7-bb4a-430bcdc3ae27' class='xr-section-summary' >Data variables: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>k</span></div><div class='xr-var-dims'>(layer, y, x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>nan nan nan ... 15.39 15.38 15.44</div><input id='attrs-38cbde00-f544-4a9f-83a8-fc69a3a7e16b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-38cbde00-f544-4a9f-83a8-fc69a3a7e16b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ad7c69ab-dbfb-4441-8bc1-7800b30e35f1' class='xr-var-data-in' type='checkbox'><label for='data-ad7c69ab-dbfb-4441-8bc1-7800b30e35f1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[         nan,          nan,          nan, ...,   2.09063745,
               1.92048049,   1.27883947],
            [         nan,          nan,          nan, ...,   2.26992607,
               2.14511347,   1.35537922],
            [         nan,          nan,          nan, ...,   2.41958737,
               2.35661888,   1.53761673],
            ...,
            [  6.95569086,   6.9874959 ,   7.00762653, ...,          nan,
                      nan,          nan],
            [  6.76307201,   6.81238127,   6.84568357, ...,          nan,
                      nan,          nan],
            [  6.41486168,   6.47761154,   6.52335644, ...,          nan,
                      nan,          nan]],

           [[         nan,          nan,          nan, ...,   2.09063745,
               1.92048049,   1.27883947],
            [         nan,          nan,          nan, ...,   2.26992607,
               2.14511347,   1.35537922],
            [         nan,          nan,          nan, ...,   2.41958737,
               2.35661888,   1.53761673],
    ...
            [  3.23147655,   3.21656537,   3.20356822, ...,  15.054636  ,
              14.99483585,  15.02609539],
            [  3.25598717,   3.24192309,   3.22996807, ...,  15.28957748,
              15.25116062,  15.30180931],
            [  3.28274798,   3.2713542 ,   3.26131344, ...,  15.3915987 ,
              15.37846184,  15.43572426]],

           [[  3.34453869,   3.36107755,   3.4030385 , ..., 100.        ,
             100.        , 100.        ],
            [  3.33302832,   3.34805989,   3.38137436, ..., 100.        ,
             100.        , 100.        ],
            [  3.29513741,   3.30980277,   3.33594632, ..., 100.        ,
             100.        , 100.        ],
            ...,
            [  3.23147655,   3.21656537,   3.20356822, ...,  15.054636  ,
              14.99483585,  15.02609539],
            [  3.25598717,   3.24192309,   3.22996807, ...,  15.28957748,
              15.25116062,  15.30180931],
            [  3.28274798,   3.2713542 ,   3.26131344, ...,  15.3915987 ,
              15.37846184,  15.43572426]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>idomain</span></div><div class='xr-var-dims'>(layer, y, x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-1.0 -1.0 -1.0 -1.0 ... 1.0 1.0 1.0</div><input id='attrs-04c90cbd-cfbd-4052-8de4-f860a0716817' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-04c90cbd-cfbd-4052-8de4-f860a0716817' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-45634387-b02d-47c2-8b9e-1ded28d781bc' class='xr-var-data-in' type='checkbox'><label for='data-45634387-b02d-47c2-8b9e-1ded28d781bc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[-1., -1., -1., ...,  1.,  1.,  1.],
            [-1., -1., -1., ...,  1.,  1.,  1.],
            [-1., -1., -1., ...,  1.,  1.,  1.],
            ...,
            [ 1.,  1.,  1., ..., -1., -1., -1.],
            [ 1.,  1.,  1., ..., -1., -1., -1.],
            [ 1.,  1.,  1., ..., -1., -1., -1.]],

           [[-1., -1., -1., ...,  1.,  1.,  1.],
            [-1., -1., -1., ...,  1.,  1.,  1.],
            [-1., -1., -1., ...,  1.,  1.,  1.],
            ...,
            [ 1.,  1.,  1., ..., -1., -1., -1.],
            [ 1.,  1.,  1., ..., -1., -1., -1.],
            [ 1.,  1.,  1., ..., -1., -1., -1.]],

           [[-1., -1., -1., ...,  1.,  1.,  1.],
            [-1., -1., -1., ...,  1.,  1.,  1.],
            [-1., -1., -1., ...,  1.,  1.,  1.],
            ...,
    ...
            ...,
            [ 1.,  1.,  1., ...,  1.,  1.,  1.],
            [ 1.,  1.,  1., ...,  1.,  1.,  1.],
            [ 1.,  1.,  1., ...,  1.,  1.,  1.]],

           [[ 1.,  1.,  1., ...,  1.,  1.,  1.],
            [ 1.,  1.,  1., ...,  1.,  1.,  1.],
            [ 1.,  1.,  1., ...,  1.,  1.,  1.],
            ...,
            [ 1.,  1.,  1., ...,  1.,  1.,  1.],
            [ 1.,  1.,  1., ...,  1.,  1.,  1.],
            [ 1.,  1.,  1., ...,  1.,  1.,  1.]],

           [[ 1.,  1.,  1., ...,  1.,  1.,  1.],
            [ 1.,  1.,  1., ...,  1.,  1.,  1.],
            [ 1.,  1.,  1., ...,  1.,  1.,  1.],
            ...,
            [ 1.,  1.,  1., ...,  1.,  1.,  1.],
            [ 1.,  1.,  1., ...,  1.,  1.,  1.],
            [ 1.,  1.,  1., ...,  1.,  1.,  1.]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>top</span></div><div class='xr-var-dims'>(layer, y, x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>6.329 6.329 6.329 ... -16.92 -16.92</div><input id='attrs-30e8a49f-4f19-40b9-bf8e-52375bfcba20' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-30e8a49f-4f19-40b9-bf8e-52375bfcba20' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0185f855-8a90-4d07-ae0c-0d15a5923792' class='xr-var-data-in' type='checkbox'><label for='data-0185f855-8a90-4d07-ae0c-0d15a5923792' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   2.51160002,
               2.51160002,   2.51160002],
            [  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   2.51160002,
               2.51160002,   2.51160002],
            [  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   2.51160002,
               2.51160002,   2.51160002],
            ...,
            [  9.42520046,   9.42520046,   9.42520046, ...,   3.19840002,
               3.19840002,   3.19840002],
            [  9.42520046,   9.42520046,   9.42520046, ...,   3.19840002,
               3.19840002,   3.19840002],
            [  9.42520046,   9.42520046,   9.42520046, ...,   3.19840002,
               3.19840002,   3.19840002]],

           [[  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   1.53750002,
               1.53750002,   1.53750002],
            [  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   1.53750002,
               1.53750002,   1.53750002],
            [  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   1.53750002,
               1.53750002,   1.53750002],
    ...
            [ -2.15040016,  -2.15040016,  -2.15040016, ..., -14.15840006,
             -14.15840006, -14.15840006],
            [ -2.15040016,  -2.15040016,  -2.15040016, ..., -14.15840006,
             -14.15840006, -14.15840006],
            [ -2.15040016,  -2.15040016,  -2.15040016, ..., -14.15840006,
             -14.15840006, -14.15840006]],

           [[ -1.20539975,  -1.20539975,  -1.20539975, ..., -24.86359978,
             -24.86359978, -24.86359978],
            [ -1.20539975,  -1.20539975,  -1.20539975, ..., -24.86359978,
             -24.86359978, -24.86359978],
            [ -1.20539975,  -1.20539975,  -1.20539975, ..., -24.86359978,
             -24.86359978, -24.86359978],
            ...,
            [ -7.14000034,  -7.14000034,  -7.14000034, ..., -16.91759992,
             -16.91759992, -16.91759992],
            [ -7.14000034,  -7.14000034,  -7.14000034, ..., -16.91759992,
             -16.91759992, -16.91759992],
            [ -7.14000034,  -7.14000034,  -7.14000034, ..., -16.91759992,
             -16.91759992, -16.91759992]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>bottom</span></div><div class='xr-var-dims'>(layer, y, x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>6.329 6.329 6.329 ... -19.68 -19.68</div><input id='attrs-11b7535f-9f87-4deb-a5a5-f814b8ee70bf' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-11b7535f-9f87-4deb-a5a5-f814b8ee70bf' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-98ffa628-c194-47ed-b85d-bc5cb73f1b12' class='xr-var-data-in' type='checkbox'><label for='data-98ffa628-c194-47ed-b85d-bc5cb73f1b12' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   1.53750002,
               1.53750002,   1.53750002],
            [  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   1.53750002,
               1.53750002,   1.53750002],
            [  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   1.53750002,
               1.53750002,   1.53750002],
            ...,
            [  9.09970045,   9.09970045,   9.09970045, ...,   3.19840002,
               3.19840002,   3.19840002],
            [  9.09970045,   9.09970045,   9.09970045, ...,   3.19840002,
               3.19840002,   3.19840002],
            [  9.09970045,   9.09970045,   9.09970045, ...,   3.19840002,
               3.19840002,   3.19840002]],

           [[  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   0.56340003,
               0.56340003,   0.56340003],
            [  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   0.56340003,
               0.56340003,   0.56340003],
            [  6.3288002 ,   6.3288002 ,   6.3288002 , ...,   0.56340003,
               0.56340003,   0.56340003],
    ...
            [ -7.14000034,  -7.14000034,  -7.14000034, ..., -16.91759992,
             -16.91759992, -16.91759992],
            [ -7.14000034,  -7.14000034,  -7.14000034, ..., -16.91759992,
             -16.91759992, -16.91759992],
            [ -7.14000034,  -7.14000034,  -7.14000034, ..., -16.91759992,
             -16.91759992, -16.91759992]],

           [[ -3.52719975,  -3.52719975,  -3.52719975, ..., -24.90279961,
             -24.90279961, -24.90279961],
            [ -3.52719975,  -3.52719975,  -3.52719975, ..., -24.90279961,
             -24.90279961, -24.90279961],
            [ -3.52719975,  -3.52719975,  -3.52719975, ..., -24.90279961,
             -24.90279961, -24.90279961],
            ...,
            [-12.12960052, -12.12960052, -12.12960052, ..., -19.67679977,
             -19.67679977, -19.67679977],
            [-12.12960052, -12.12960052, -12.12960052, ..., -19.67679977,
             -19.67679977, -19.67679977],
            [-12.12960052, -12.12960052, -12.12960052, ..., -19.67679977,
             -19.67679977, -19.67679977]]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f9450d77-453f-44a6-b7a0-0e8a8b47443b' class='xr-section-summary-in' type='checkbox'  ><label for='section-f9450d77-453f-44a6-b7a0-0e8a8b47443b' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>layer</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-732fdcd0-b1f4-4f20-836c-58a388690be1' class='xr-index-data-in' type='checkbox'/><label for='index-732fdcd0-b1f4-4f20-836c-58a388690be1' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], dtype=&#x27;int64&#x27;, name=&#x27;layer&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-2cd2689b-3762-4b2e-8043-771896776532' class='xr-index-data-in' type='checkbox'/><label for='index-2cd2689b-3762-4b2e-8043-771896776532' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([237512.5, 237537.5, 237562.5, 237587.5, 237612.5, 237637.5, 237662.5,
           237687.5, 237712.5, 237737.5,
           ...
           249762.5, 249787.5, 249812.5, 249837.5, 249862.5, 249887.5, 249912.5,
           249937.5, 249962.5, 249987.5],
          dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=500))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-e0d1d962-9d42-4813-8fa8-e15e2a8d9a48' class='xr-index-data-in' type='checkbox'/><label for='index-e0d1d962-9d42-4813-8fa8-e15e2a8d9a48' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([563987.5, 563962.5, 563937.5, 563912.5, 563887.5, 563862.5, 563837.5,
           563812.5, 563787.5, 563762.5,
           ...
           559237.5, 559212.5, 559187.5, 559162.5, 559137.5, 559112.5, 559087.5,
           559062.5, 559037.5, 559012.5],
          dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=200))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-6a6a7f5e-1762-42b4-acc1-a01d126b67d7' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-6a6a7f5e-1762-42b4-acc1-a01d126b67d7' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 40-42

Furthermore we have planar grid of river, containing a river stage, bed
elevation and conductance.

.. GENERATED FROM PYTHON SOURCE LINES 42-47

.. code-block:: Python

    planar_river = imod.data.hondsrug_planar_river()

    planar_river







.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
    <defs>
    <symbol id="icon-database" viewBox="0 0 32 32">
    <path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
    <path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    <path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    </symbol>
    <symbol id="icon-file-text2" viewBox="0 0 32 32">
    <path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
    <path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    </symbol>
    </defs>
    </svg>
    <style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
     *
     */

    :root {
      --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
      --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
      --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
      --xr-border-color: var(--jp-border-color2, #e0e0e0);
      --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
      --xr-background-color: var(--jp-layout-color0, white);
      --xr-background-color-row-even: var(--jp-layout-color1, white);
      --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
    }

    html[theme=dark],
    html[data-theme=dark],
    body[data-theme=dark],
    body.vscode-dark {
      --xr-font-color0: rgba(255, 255, 255, 1);
      --xr-font-color2: rgba(255, 255, 255, 0.54);
      --xr-font-color3: rgba(255, 255, 255, 0.38);
      --xr-border-color: #1F1F1F;
      --xr-disabled-color: #515151;
      --xr-background-color: #111111;
      --xr-background-color-row-even: #111111;
      --xr-background-color-row-odd: #313131;
    }

    .xr-wrap {
      display: block !important;
      min-width: 300px;
      max-width: 700px;
    }

    .xr-text-repr-fallback {
      /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
      display: none;
    }

    .xr-header {
      padding-top: 6px;
      padding-bottom: 6px;
      margin-bottom: 4px;
      border-bottom: solid 1px var(--xr-border-color);
    }

    .xr-header > div,
    .xr-header > ul {
      display: inline;
      margin-top: 0;
      margin-bottom: 0;
    }

    .xr-obj-type,
    .xr-array-name {
      margin-left: 2px;
      margin-right: 10px;
    }

    .xr-obj-type {
      color: var(--xr-font-color2);
    }

    .xr-sections {
      padding-left: 0 !important;
      display: grid;
      grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
    }

    .xr-section-item {
      display: contents;
    }

    .xr-section-item input {
      display: inline-block;
      opacity: 0;
    }

    .xr-section-item input + label {
      color: var(--xr-disabled-color);
    }

    .xr-section-item input:enabled + label {
      cursor: pointer;
      color: var(--xr-font-color2);
    }

    .xr-section-item input:focus + label {
      border: 2px solid var(--xr-font-color0);
    }

    .xr-section-item input:enabled + label:hover {
      color: var(--xr-font-color0);
    }

    .xr-section-summary {
      grid-column: 1;
      color: var(--xr-font-color2);
      font-weight: 500;
    }

    .xr-section-summary > span {
      display: inline-block;
      padding-left: 0.5em;
    }

    .xr-section-summary-in:disabled + label {
      color: var(--xr-font-color2);
    }

    .xr-section-summary-in + label:before {
      display: inline-block;
      content: '►';
      font-size: 11px;
      width: 15px;
      text-align: center;
    }

    .xr-section-summary-in:disabled + label:before {
      color: var(--xr-disabled-color);
    }

    .xr-section-summary-in:checked + label:before {
      content: '▼';
    }

    .xr-section-summary-in:checked + label > span {
      display: none;
    }

    .xr-section-summary,
    .xr-section-inline-details {
      padding-top: 4px;
      padding-bottom: 4px;
    }

    .xr-section-inline-details {
      grid-column: 2 / -1;
    }

    .xr-section-details {
      display: none;
      grid-column: 1 / -1;
      margin-bottom: 5px;
    }

    .xr-section-summary-in:checked ~ .xr-section-details {
      display: contents;
    }

    .xr-array-wrap {
      grid-column: 1 / -1;
      display: grid;
      grid-template-columns: 20px auto;
    }

    .xr-array-wrap > label {
      grid-column: 1;
      vertical-align: top;
    }

    .xr-preview {
      color: var(--xr-font-color3);
    }

    .xr-array-preview,
    .xr-array-data {
      padding: 0 5px !important;
      grid-column: 2;
    }

    .xr-array-data,
    .xr-array-in:checked ~ .xr-array-preview {
      display: none;
    }

    .xr-array-in:checked ~ .xr-array-data,
    .xr-array-preview {
      display: inline-block;
    }

    .xr-dim-list {
      display: inline-block !important;
      list-style: none;
      padding: 0 !important;
      margin: 0;
    }

    .xr-dim-list li {
      display: inline-block;
      padding: 0;
      margin: 0;
    }

    .xr-dim-list:before {
      content: '(';
    }

    .xr-dim-list:after {
      content: ')';
    }

    .xr-dim-list li:not(:last-child):after {
      content: ',';
      padding-right: 5px;
    }

    .xr-has-index {
      font-weight: bold;
    }

    .xr-var-list,
    .xr-var-item {
      display: contents;
    }

    .xr-var-item > div,
    .xr-var-item label,
    .xr-var-item > .xr-var-name span {
      background-color: var(--xr-background-color-row-even);
      margin-bottom: 0;
    }

    .xr-var-item > .xr-var-name:hover span {
      padding-right: 5px;
    }

    .xr-var-list > li:nth-child(odd) > div,
    .xr-var-list > li:nth-child(odd) > label,
    .xr-var-list > li:nth-child(odd) > .xr-var-name span {
      background-color: var(--xr-background-color-row-odd);
    }

    .xr-var-name {
      grid-column: 1;
    }

    .xr-var-dims {
      grid-column: 2;
    }

    .xr-var-dtype {
      grid-column: 3;
      text-align: right;
      color: var(--xr-font-color2);
    }

    .xr-var-preview {
      grid-column: 4;
    }

    .xr-index-preview {
      grid-column: 2 / 5;
      color: var(--xr-font-color2);
    }

    .xr-var-name,
    .xr-var-dims,
    .xr-var-dtype,
    .xr-preview,
    .xr-attrs dt {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-right: 10px;
    }

    .xr-var-name:hover,
    .xr-var-dims:hover,
    .xr-var-dtype:hover,
    .xr-attrs dt:hover {
      overflow: visible;
      width: auto;
      z-index: 1;
    }

    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      display: none;
      background-color: var(--xr-background-color) !important;
      padding-bottom: 5px !important;
    }

    .xr-var-attrs-in:checked ~ .xr-var-attrs,
    .xr-var-data-in:checked ~ .xr-var-data,
    .xr-index-data-in:checked ~ .xr-index-data {
      display: block;
    }

    .xr-var-data > table {
      float: right;
    }

    .xr-var-name span,
    .xr-var-data,
    .xr-index-name div,
    .xr-index-data,
    .xr-attrs {
      padding-left: 25px !important;
    }

    .xr-attrs,
    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      grid-column: 1 / -1;
    }

    dl.xr-attrs {
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: 125px auto;
    }

    .xr-attrs dt,
    .xr-attrs dd {
      padding: 0;
      margin: 0;
      float: left;
      padding-right: 10px;
      width: auto;
    }

    .xr-attrs dt {
      font-weight: normal;
      grid-column: 1;
    }

    .xr-attrs dt:hover span {
      display: inline-block;
      background: var(--xr-background-color);
      padding-right: 10px;
    }

    .xr-attrs dd {
      grid-column: 2;
      white-space: pre-wrap;
      word-break: break-all;
    }

    .xr-icon-database,
    .xr-icon-file-text2,
    .xr-no-icon {
      display: inline-block;
      vertical-align: middle;
      width: 1em;
      height: 1.5em !important;
      stroke-width: 0;
      stroke: currentColor;
      fill: currentColor;
    }
    </style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 1MB
    Dimensions:      (x: 500, y: 200)
    Coordinates:
      * x            (x) float64 4kB 2.375e+05 2.375e+05 ... 2.5e+05 2.5e+05
      * y            (y) float64 2kB 5.64e+05 5.64e+05 ... 5.59e+05 5.59e+05
        dx           float64 8B ...
        dy           float64 8B ...
        layer        int32 4B 1
    Data variables:
        stage        (y, x) float32 400kB nan nan nan 5.014 ... nan nan nan nan
        bottom       (y, x) float32 400kB nan nan nan 3.7 3.7 ... nan nan nan nan
        conductance  (y, x) float32 400kB nan nan nan 8.21 6.02 ... nan nan nan nan</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-c69a625f-9540-464c-a6ae-e26dbd28cbc5' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-c69a625f-9540-464c-a6ae-e26dbd28cbc5' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>x</span>: 500</li><li><span class='xr-has-index'>y</span>: 200</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-f00919df-38f6-488f-b955-23d19a6191cd' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f00919df-38f6-488f-b955-23d19a6191cd' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.375e+05 2.375e+05 ... 2.5e+05</div><input id='attrs-25d0b7cd-671d-4e35-8866-5eaeb9bbd933' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-25d0b7cd-671d-4e35-8866-5eaeb9bbd933' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5613a8ff-5da7-4e9e-a6cc-982061f8e6b2' class='xr-var-data-in' type='checkbox'><label for='data-5613a8ff-5da7-4e9e-a6cc-982061f8e6b2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([237512.5, 237537.5, 237562.5, ..., 249937.5, 249962.5, 249987.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.64e+05 5.64e+05 ... 5.59e+05</div><input id='attrs-663415ce-6627-4b27-8589-84c302e2554c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-663415ce-6627-4b27-8589-84c302e2554c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-38e2606a-e32b-4fd4-abf8-2647dc6c3646' class='xr-var-data-in' type='checkbox'><label for='data-38e2606a-e32b-4fd4-abf8-2647dc6c3646' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([563987.5, 563962.5, 563937.5, 563912.5, 563887.5, 563862.5, 563837.5,
           563812.5, 563787.5, 563762.5, 563737.5, 563712.5, 563687.5, 563662.5,
           563637.5, 563612.5, 563587.5, 563562.5, 563537.5, 563512.5, 563487.5,
           563462.5, 563437.5, 563412.5, 563387.5, 563362.5, 563337.5, 563312.5,
           563287.5, 563262.5, 563237.5, 563212.5, 563187.5, 563162.5, 563137.5,
           563112.5, 563087.5, 563062.5, 563037.5, 563012.5, 562987.5, 562962.5,
           562937.5, 562912.5, 562887.5, 562862.5, 562837.5, 562812.5, 562787.5,
           562762.5, 562737.5, 562712.5, 562687.5, 562662.5, 562637.5, 562612.5,
           562587.5, 562562.5, 562537.5, 562512.5, 562487.5, 562462.5, 562437.5,
           562412.5, 562387.5, 562362.5, 562337.5, 562312.5, 562287.5, 562262.5,
           562237.5, 562212.5, 562187.5, 562162.5, 562137.5, 562112.5, 562087.5,
           562062.5, 562037.5, 562012.5, 561987.5, 561962.5, 561937.5, 561912.5,
           561887.5, 561862.5, 561837.5, 561812.5, 561787.5, 561762.5, 561737.5,
           561712.5, 561687.5, 561662.5, 561637.5, 561612.5, 561587.5, 561562.5,
           561537.5, 561512.5, 561487.5, 561462.5, 561437.5, 561412.5, 561387.5,
           561362.5, 561337.5, 561312.5, 561287.5, 561262.5, 561237.5, 561212.5,
           561187.5, 561162.5, 561137.5, 561112.5, 561087.5, 561062.5, 561037.5,
           561012.5, 560987.5, 560962.5, 560937.5, 560912.5, 560887.5, 560862.5,
           560837.5, 560812.5, 560787.5, 560762.5, 560737.5, 560712.5, 560687.5,
           560662.5, 560637.5, 560612.5, 560587.5, 560562.5, 560537.5, 560512.5,
           560487.5, 560462.5, 560437.5, 560412.5, 560387.5, 560362.5, 560337.5,
           560312.5, 560287.5, 560262.5, 560237.5, 560212.5, 560187.5, 560162.5,
           560137.5, 560112.5, 560087.5, 560062.5, 560037.5, 560012.5, 559987.5,
           559962.5, 559937.5, 559912.5, 559887.5, 559862.5, 559837.5, 559812.5,
           559787.5, 559762.5, 559737.5, 559712.5, 559687.5, 559662.5, 559637.5,
           559612.5, 559587.5, 559562.5, 559537.5, 559512.5, 559487.5, 559462.5,
           559437.5, 559412.5, 559387.5, 559362.5, 559337.5, 559312.5, 559287.5,
           559262.5, 559237.5, 559212.5, 559187.5, 559162.5, 559137.5, 559112.5,
           559087.5, 559062.5, 559037.5, 559012.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dx</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-c0e74214-ea7d-424d-9173-35d6ea82115b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c0e74214-ea7d-424d-9173-35d6ea82115b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0ed31159-ce84-4dfb-8553-c04030f31bc4' class='xr-var-data-in' type='checkbox'><label for='data-0ed31159-ce84-4dfb-8553-c04030f31bc4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dy</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-487a7897-59a4-4f6e-8da4-58a19124bcfe' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-487a7897-59a4-4f6e-8da4-58a19124bcfe' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-65783a9c-5441-405a-b11c-1a7c737094ae' class='xr-var-data-in' type='checkbox'><label for='data-65783a9c-5441-405a-b11c-1a7c737094ae' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>[1 values with dtype=float64]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>layer</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-05995d1c-0086-47ed-9e0a-c6e9e4562f50' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-05995d1c-0086-47ed-9e0a-c6e9e4562f50' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bd3cb06c-8ec5-444d-a734-067323992bc6' class='xr-var-data-in' type='checkbox'><label for='data-bd3cb06c-8ec5-444d-a734-067323992bc6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(1, dtype=int32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-5671b690-dca3-441d-9e6b-ecc58c1288c1' class='xr-section-summary-in' type='checkbox'  checked><label for='section-5671b690-dca3-441d-9e6b-ecc58c1288c1' class='xr-section-summary' >Data variables: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>stage</span></div><div class='xr-var-dims'>(y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan 5.014 ... nan nan nan</div><input id='attrs-4d83b8a8-2129-46c6-9ab7-43aa8dff58d8' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4d83b8a8-2129-46c6-9ab7-43aa8dff58d8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b41ffac5-02c8-4f7c-8cea-174d3ef880fe' class='xr-var-data-in' type='checkbox'><label for='data-b41ffac5-02c8-4f7c-8cea-174d3ef880fe' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[      nan,       nan,       nan, ..., 1.9508   , 1.9358001,
            1.9258001],
           [      nan, 5.3744   , 5.2444   , ...,       nan, 1.9258001,
            1.9258001],
           [5.5094004, 5.4394   ,       nan, ...,       nan, 1.7708   ,
            1.6558001],
           ...,
           [      nan,       nan,       nan, ...,       nan,       nan,
                  nan],
           [      nan,       nan,       nan, ...,       nan,       nan,
                  nan],
           [      nan,       nan, 8.3776   , ...,       nan,       nan,
                  nan]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>bottom</span></div><div class='xr-var-dims'>(y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan 3.7 ... nan nan nan nan</div><input id='attrs-6a18cd0c-f9ab-4641-9870-28ca19816cad' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6a18cd0c-f9ab-4641-9870-28ca19816cad' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-642de68e-7bb8-4612-b08a-6031102ae9da' class='xr-var-data-in' type='checkbox'><label for='data-642de68e-7bb8-4612-b08a-6031102ae9da' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[ nan,  nan,  nan, ..., 1.39, 1.36, 1.34],
           [ nan, 4.42, 4.16, ...,  nan, 1.34, 1.34],
           [4.69, 4.55,  nan, ...,  nan, 1.03, 0.51],
           ...,
           [ nan,  nan,  nan, ...,  nan,  nan,  nan],
           [ nan,  nan,  nan, ...,  nan,  nan,  nan],
           [ nan,  nan, 7.33, ...,  nan,  nan,  nan]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>conductance</span></div><div class='xr-var-dims'>(y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan 8.21 ... nan nan nan</div><input id='attrs-c2594b6d-37d9-485b-a5de-b3997cf7e268' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c2594b6d-37d9-485b-a5de-b3997cf7e268' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-541c9fc2-754e-44d4-8af1-d493929387fd' class='xr-var-data-in' type='checkbox'><label for='data-541c9fc2-754e-44d4-8af1-d493929387fd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[  nan,   nan,   nan, ..., 29.86,  2.71, 29.86],
           [  nan, 21.66, 22.56, ...,   nan,  4.52, 26.24],
           [22.56,  0.9 ,   nan, ...,   nan,  0.9 , 11.67],
           ...,
           [  nan,   nan,   nan, ...,   nan,   nan,   nan],
           [  nan,   nan,   nan, ...,   nan,   nan,   nan],
           [  nan,   nan, 15.46, ...,   nan,   nan,   nan]], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-0e5ae24e-f726-4286-98d4-4941992fbc44' class='xr-section-summary-in' type='checkbox'  ><label for='section-0e5ae24e-f726-4286-98d4-4941992fbc44' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-2bcd386e-ff5e-418a-b093-9921d93634ac' class='xr-index-data-in' type='checkbox'/><label for='index-2bcd386e-ff5e-418a-b093-9921d93634ac' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([237512.5, 237537.5, 237562.5, 237587.5, 237612.5, 237637.5, 237662.5,
           237687.5, 237712.5, 237737.5,
           ...
           249762.5, 249787.5, 249812.5, 249837.5, 249862.5, 249887.5, 249912.5,
           249937.5, 249962.5, 249987.5],
          dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=500))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-3027294d-3dd0-4651-a49c-68659936eb50' class='xr-index-data-in' type='checkbox'/><label for='index-3027294d-3dd0-4651-a49c-68659936eb50' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([563987.5, 563962.5, 563937.5, 563912.5, 563887.5, 563862.5, 563837.5,
           563812.5, 563787.5, 563762.5,
           ...
           559237.5, 559212.5, 559187.5, 559162.5, 559137.5, 559112.5, 559087.5,
           559062.5, 559037.5, 559012.5],
          dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=200))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-bddb95a3-297b-4e97-a7b2-57f0d26558f5' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-bddb95a3-297b-4e97-a7b2-57f0d26558f5' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 48-50

Let's plot the top elevation of the model on a map. You can see we have a
ridge roughly the centre of the model, sided by two low-lying areas.

.. GENERATED FROM PYTHON SOURCE LINES 50-56

.. code-block:: Python

    import numpy as np

    imod.visualize.plot_map(
        layer_model["top"].sel(layer=1), "viridis", np.linspace(1, 20, 11)
    )




.. image-sg:: /user-guide/images/sphx_glr_09-topsystem_001.png
   :alt: 09 topsystem
   :srcset: /user-guide/images/sphx_glr_09-topsystem_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    (<Figure size 640x480 with 2 Axes>, <Axes: >)



.. GENERATED FROM PYTHON SOURCE LINES 57-59

Let's plot the river stages on a map. You can see most rivers are located
in the low-lying areas.

.. GENERATED FROM PYTHON SOURCE LINES 59-61

.. code-block:: Python

    imod.visualize.plot_map(planar_river["stage"], "viridis", np.linspace(-1, 19, 9))




.. image-sg:: /user-guide/images/sphx_glr_09-topsystem_002.png
   :alt: 09 topsystem
   :srcset: /user-guide/images/sphx_glr_09-topsystem_002.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    (<Figure size 640x480 with 2 Axes>, <Axes: >)



.. GENERATED FROM PYTHON SOURCE LINES 62-66

Allocate river cells
--------------------

Let's allocate river cells across model layers to cells.

.. GENERATED FROM PYTHON SOURCE LINES 66-77

.. code-block:: Python

    from imod.prepare import ALLOCATION_OPTION, allocate_riv_cells

    riv_allocated, _ = allocate_riv_cells(
        allocation_option=ALLOCATION_OPTION.at_elevation,
        active=layer_model["idomain"] == 1,
        top=layer_model["top"],
        bottom=layer_model["bottom"],
        stage=planar_river["stage"],
        bottom_elevation=planar_river["bottom"],
    )








.. GENERATED FROM PYTHON SOURCE LINES 78-81

Let's take a look at what we just produced. Since we are dealing with
information with depth, it is simplest to make a crosssection plot. For that,
we first have to select a crosssection.

.. GENERATED FROM PYTHON SOURCE LINES 82-96

.. code-block:: Python

    import geopandas as gpd
    from shapely.geometry import LineString

    geometry = LineString([[238725, 561800], [241050, 560350]])

    # Define overlay
    overlays = [
        {"gdf": gpd.GeoDataFrame(geometry=[geometry]), "edgecolor": "black", "linewidth": 3}
    ]
    # Plot
    imod.visualize.plot_map(
        planar_river["stage"], "viridis", np.linspace(-1, 19, 9), overlays
    )




.. image-sg:: /user-guide/images/sphx_glr_09-topsystem_003.png
   :alt: 09 topsystem
   :srcset: /user-guide/images/sphx_glr_09-topsystem_003.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    (<Figure size 640x480 with 2 Axes>, <Axes: >)



.. GENERATED FROM PYTHON SOURCE LINES 97-99

Select a cross section. The plot also requires top and bottom information
which we will add first as coordinates before selecting.

.. GENERATED FROM PYTHON SOURCE LINES 100-106

.. code-block:: Python

    riv_allocated.coords["top"] = layer_model["top"]
    riv_allocated.coords["bottom"] = layer_model["bottom"]

    xsection_allocated = imod.select.cross_section_linestring(riv_allocated, geometry)

    xsection_allocated





.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
    <defs>
    <symbol id="icon-database" viewBox="0 0 32 32">
    <path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
    <path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    <path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    </symbol>
    <symbol id="icon-file-text2" viewBox="0 0 32 32">
    <path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
    <path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    </symbol>
    </defs>
    </svg>
    <style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
     *
     */

    :root {
      --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
      --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
      --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
      --xr-border-color: var(--jp-border-color2, #e0e0e0);
      --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
      --xr-background-color: var(--jp-layout-color0, white);
      --xr-background-color-row-even: var(--jp-layout-color1, white);
      --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
    }

    html[theme=dark],
    html[data-theme=dark],
    body[data-theme=dark],
    body.vscode-dark {
      --xr-font-color0: rgba(255, 255, 255, 1);
      --xr-font-color2: rgba(255, 255, 255, 0.54);
      --xr-font-color3: rgba(255, 255, 255, 0.38);
      --xr-border-color: #1F1F1F;
      --xr-disabled-color: #515151;
      --xr-background-color: #111111;
      --xr-background-color-row-even: #111111;
      --xr-background-color-row-odd: #313131;
    }

    .xr-wrap {
      display: block !important;
      min-width: 300px;
      max-width: 700px;
    }

    .xr-text-repr-fallback {
      /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
      display: none;
    }

    .xr-header {
      padding-top: 6px;
      padding-bottom: 6px;
      margin-bottom: 4px;
      border-bottom: solid 1px var(--xr-border-color);
    }

    .xr-header > div,
    .xr-header > ul {
      display: inline;
      margin-top: 0;
      margin-bottom: 0;
    }

    .xr-obj-type,
    .xr-array-name {
      margin-left: 2px;
      margin-right: 10px;
    }

    .xr-obj-type {
      color: var(--xr-font-color2);
    }

    .xr-sections {
      padding-left: 0 !important;
      display: grid;
      grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
    }

    .xr-section-item {
      display: contents;
    }

    .xr-section-item input {
      display: inline-block;
      opacity: 0;
    }

    .xr-section-item input + label {
      color: var(--xr-disabled-color);
    }

    .xr-section-item input:enabled + label {
      cursor: pointer;
      color: var(--xr-font-color2);
    }

    .xr-section-item input:focus + label {
      border: 2px solid var(--xr-font-color0);
    }

    .xr-section-item input:enabled + label:hover {
      color: var(--xr-font-color0);
    }

    .xr-section-summary {
      grid-column: 1;
      color: var(--xr-font-color2);
      font-weight: 500;
    }

    .xr-section-summary > span {
      display: inline-block;
      padding-left: 0.5em;
    }

    .xr-section-summary-in:disabled + label {
      color: var(--xr-font-color2);
    }

    .xr-section-summary-in + label:before {
      display: inline-block;
      content: '►';
      font-size: 11px;
      width: 15px;
      text-align: center;
    }

    .xr-section-summary-in:disabled + label:before {
      color: var(--xr-disabled-color);
    }

    .xr-section-summary-in:checked + label:before {
      content: '▼';
    }

    .xr-section-summary-in:checked + label > span {
      display: none;
    }

    .xr-section-summary,
    .xr-section-inline-details {
      padding-top: 4px;
      padding-bottom: 4px;
    }

    .xr-section-inline-details {
      grid-column: 2 / -1;
    }

    .xr-section-details {
      display: none;
      grid-column: 1 / -1;
      margin-bottom: 5px;
    }

    .xr-section-summary-in:checked ~ .xr-section-details {
      display: contents;
    }

    .xr-array-wrap {
      grid-column: 1 / -1;
      display: grid;
      grid-template-columns: 20px auto;
    }

    .xr-array-wrap > label {
      grid-column: 1;
      vertical-align: top;
    }

    .xr-preview {
      color: var(--xr-font-color3);
    }

    .xr-array-preview,
    .xr-array-data {
      padding: 0 5px !important;
      grid-column: 2;
    }

    .xr-array-data,
    .xr-array-in:checked ~ .xr-array-preview {
      display: none;
    }

    .xr-array-in:checked ~ .xr-array-data,
    .xr-array-preview {
      display: inline-block;
    }

    .xr-dim-list {
      display: inline-block !important;
      list-style: none;
      padding: 0 !important;
      margin: 0;
    }

    .xr-dim-list li {
      display: inline-block;
      padding: 0;
      margin: 0;
    }

    .xr-dim-list:before {
      content: '(';
    }

    .xr-dim-list:after {
      content: ')';
    }

    .xr-dim-list li:not(:last-child):after {
      content: ',';
      padding-right: 5px;
    }

    .xr-has-index {
      font-weight: bold;
    }

    .xr-var-list,
    .xr-var-item {
      display: contents;
    }

    .xr-var-item > div,
    .xr-var-item label,
    .xr-var-item > .xr-var-name span {
      background-color: var(--xr-background-color-row-even);
      margin-bottom: 0;
    }

    .xr-var-item > .xr-var-name:hover span {
      padding-right: 5px;
    }

    .xr-var-list > li:nth-child(odd) > div,
    .xr-var-list > li:nth-child(odd) > label,
    .xr-var-list > li:nth-child(odd) > .xr-var-name span {
      background-color: var(--xr-background-color-row-odd);
    }

    .xr-var-name {
      grid-column: 1;
    }

    .xr-var-dims {
      grid-column: 2;
    }

    .xr-var-dtype {
      grid-column: 3;
      text-align: right;
      color: var(--xr-font-color2);
    }

    .xr-var-preview {
      grid-column: 4;
    }

    .xr-index-preview {
      grid-column: 2 / 5;
      color: var(--xr-font-color2);
    }

    .xr-var-name,
    .xr-var-dims,
    .xr-var-dtype,
    .xr-preview,
    .xr-attrs dt {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-right: 10px;
    }

    .xr-var-name:hover,
    .xr-var-dims:hover,
    .xr-var-dtype:hover,
    .xr-attrs dt:hover {
      overflow: visible;
      width: auto;
      z-index: 1;
    }

    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      display: none;
      background-color: var(--xr-background-color) !important;
      padding-bottom: 5px !important;
    }

    .xr-var-attrs-in:checked ~ .xr-var-attrs,
    .xr-var-data-in:checked ~ .xr-var-data,
    .xr-index-data-in:checked ~ .xr-index-data {
      display: block;
    }

    .xr-var-data > table {
      float: right;
    }

    .xr-var-name span,
    .xr-var-data,
    .xr-index-name div,
    .xr-index-data,
    .xr-attrs {
      padding-left: 25px !important;
    }

    .xr-attrs,
    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      grid-column: 1 / -1;
    }

    dl.xr-attrs {
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: 125px auto;
    }

    .xr-attrs dt,
    .xr-attrs dd {
      padding: 0;
      margin: 0;
      float: left;
      padding-right: 10px;
      width: auto;
    }

    .xr-attrs dt {
      font-weight: normal;
      grid-column: 1;
    }

    .xr-attrs dt:hover span {
      display: inline-block;
      background: var(--xr-background-color);
      padding-right: 10px;
    }

    .xr-attrs dd {
      grid-column: 2;
      white-space: pre-wrap;
      word-break: break-all;
    }

    .xr-icon-database,
    .xr-icon-file-text2,
    .xr-no-icon {
      display: inline-block;
      vertical-align: middle;
      width: 1em;
      height: 1.5em !important;
      stroke-width: 0;
      stroke: currentColor;
      fill: currentColor;
    }
    </style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (layer: 20, s: 150)&gt; Size: 24kB
    array([[0., 0., 0., ..., 0., 0., 0.],
           [0., 0., 0., ..., 0., 0., 0.],
           [0., 0., 0., ..., 0., 0., 0.],
           ...,
           [0., 0., 0., ..., 0., 0., 0.],
           [0., 0., 0., ..., 0., 0., 0.],
           [0., 0., 0., ..., 0., 0., 0.]])
    Coordinates:
        x        (s) float64 1kB 2.387e+05 2.388e+05 2.388e+05 ... 2.41e+05 2.41e+05
        y        (s) float64 1kB 5.618e+05 5.618e+05 ... 5.604e+05 5.604e+05
        dx       (s) float64 1kB 25.0 15.09 9.914 25.0 ... 25.0 9.914 15.09 25.0
        dy       (s) float64 1kB -15.59 -9.409 -6.183 ... -6.183 -9.409 -15.59
      * layer    (layer) int64 160B 1 2 3 4 5 6 7 8 9 ... 12 13 14 15 16 17 18 19 20
        top      (layer, s) float64 24kB 5.76 5.76 5.76 5.76 ... 2.875 2.875 2.875
        bottom   (layer, s) float64 24kB 5.76 5.76 5.76 5.76 ... 1.679 1.679 1.679
      * s        (s) float64 1kB 14.73 38.35 53.08 ... 2.687e+03 2.702e+03 2.725e+03
        ds       (s) float64 1kB 29.46 17.78 11.68 29.46 ... 29.46 11.68 17.78 29.46</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>layer</span>: 20</li><li><span class='xr-has-index'>s</span>: 150</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-b2975414-4587-49f1-ba68-b387ae0d30b3' class='xr-array-in' type='checkbox' checked><label for='section-b2975414-4587-49f1-ba68-b387ae0d30b3' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0</span></div><div class='xr-array-data'><pre>array([[0., 0., 0., ..., 0., 0., 0.],
           [0., 0., 0., ..., 0., 0., 0.],
           [0., 0., 0., ..., 0., 0., 0.],
           ...,
           [0., 0., 0., ..., 0., 0., 0.],
           [0., 0., 0., ..., 0., 0., 0.],
           [0., 0., 0., ..., 0., 0., 0.]])</pre></div></div></li><li class='xr-section-item'><input id='section-59aa2710-5656-4831-8b37-5909b338a54f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-59aa2710-5656-4831-8b37-5909b338a54f' class='xr-section-summary' >Coordinates: <span>(9)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>x</span></div><div class='xr-var-dims'>(s)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.387e+05 2.388e+05 ... 2.41e+05</div><input id='attrs-fa6b0e83-f8a6-470b-93f5-d60006052a0d' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-fa6b0e83-f8a6-470b-93f5-d60006052a0d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-16b02cbf-3932-470c-b785-904110cb990f' class='xr-var-data-in' type='checkbox'><label for='data-16b02cbf-3932-470c-b785-904110cb990f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([238737.5, 238762.5, 238762.5, 238787.5, 238812.5, 238812.5, 238837.5,
           238837.5, 238862.5, 238887.5, 238887.5, 238912.5, 238937.5, 238937.5,
           238962.5, 238962.5, 238987.5, 239012.5, 239012.5, 239037.5, 239037.5,
           239062.5, 239087.5, 239087.5, 239112.5, 239137.5, 239137.5, 239162.5,
           239162.5, 239187.5, 239212.5, 239212.5, 239237.5, 239237.5, 239262.5,
           239287.5, 239287.5, 239312.5, 239337.5, 239337.5, 239362.5, 239362.5,
           239387.5, 239412.5, 239412.5, 239437.5, 239437.5, 239462.5, 239487.5,
           239487.5, 239512.5, 239537.5, 239537.5, 239562.5, 239562.5, 239587.5,
           239612.5, 239612.5, 239637.5, 239637.5, 239662.5, 239687.5, 239687.5,
           239712.5, 239737.5, 239737.5, 239762.5, 239762.5, 239787.5, 239812.5,
           239812.5, 239837.5, 239837.5, 239862.5, 239887.5, 239887.5, 239912.5,
           239937.5, 239937.5, 239962.5, 239962.5, 239987.5, 240012.5, 240012.5,
           240037.5, 240037.5, 240062.5, 240087.5, 240087.5, 240112.5, 240137.5,
           240137.5, 240162.5, 240162.5, 240187.5, 240212.5, 240212.5, 240237.5,
           240237.5, 240262.5, 240287.5, 240287.5, 240312.5, 240337.5, 240337.5,
           240362.5, 240362.5, 240387.5, 240412.5, 240412.5, 240437.5, 240437.5,
           240462.5, 240487.5, 240487.5, 240512.5, 240537.5, 240537.5, 240562.5,
           240562.5, 240587.5, 240612.5, 240612.5, 240637.5, 240637.5, 240662.5,
           240687.5, 240687.5, 240712.5, 240737.5, 240737.5, 240762.5, 240762.5,
           240787.5, 240812.5, 240812.5, 240837.5, 240837.5, 240862.5, 240887.5,
           240887.5, 240912.5, 240937.5, 240937.5, 240962.5, 240962.5, 240987.5,
           241012.5, 241012.5, 241037.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>y</span></div><div class='xr-var-dims'>(s)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.618e+05 5.618e+05 ... 5.604e+05</div><input id='attrs-476ca610-f11f-4c6d-a2c9-179e283b0da6' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-476ca610-f11f-4c6d-a2c9-179e283b0da6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3a13bec0-d87c-4838-b0e6-dab0b52a929c' class='xr-var-data-in' type='checkbox'><label for='data-3a13bec0-d87c-4838-b0e6-dab0b52a929c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([561787.5, 561787.5, 561762.5, 561762.5, 561762.5, 561737.5, 561737.5,
           561712.5, 561712.5, 561712.5, 561687.5, 561687.5, 561687.5, 561662.5,
           561662.5, 561637.5, 561637.5, 561637.5, 561612.5, 561612.5, 561587.5,
           561587.5, 561587.5, 561562.5, 561562.5, 561562.5, 561537.5, 561537.5,
           561512.5, 561512.5, 561512.5, 561487.5, 561487.5, 561462.5, 561462.5,
           561462.5, 561437.5, 561437.5, 561437.5, 561412.5, 561412.5, 561387.5,
           561387.5, 561387.5, 561362.5, 561362.5, 561337.5, 561337.5, 561337.5,
           561312.5, 561312.5, 561312.5, 561287.5, 561287.5, 561262.5, 561262.5,
           561262.5, 561237.5, 561237.5, 561212.5, 561212.5, 561212.5, 561187.5,
           561187.5, 561187.5, 561162.5, 561162.5, 561137.5, 561137.5, 561137.5,
           561112.5, 561112.5, 561087.5, 561087.5, 561087.5, 561062.5, 561062.5,
           561062.5, 561037.5, 561037.5, 561012.5, 561012.5, 561012.5, 560987.5,
           560987.5, 560962.5, 560962.5, 560962.5, 560937.5, 560937.5, 560937.5,
           560912.5, 560912.5, 560887.5, 560887.5, 560887.5, 560862.5, 560862.5,
           560837.5, 560837.5, 560837.5, 560812.5, 560812.5, 560812.5, 560787.5,
           560787.5, 560762.5, 560762.5, 560762.5, 560737.5, 560737.5, 560712.5,
           560712.5, 560712.5, 560687.5, 560687.5, 560687.5, 560662.5, 560662.5,
           560637.5, 560637.5, 560637.5, 560612.5, 560612.5, 560587.5, 560587.5,
           560587.5, 560562.5, 560562.5, 560562.5, 560537.5, 560537.5, 560512.5,
           560512.5, 560512.5, 560487.5, 560487.5, 560462.5, 560462.5, 560462.5,
           560437.5, 560437.5, 560437.5, 560412.5, 560412.5, 560387.5, 560387.5,
           560387.5, 560362.5, 560362.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dx</span></div><div class='xr-var-dims'>(s)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>25.0 15.09 9.914 ... 15.09 25.0</div><input id='attrs-42ea35b7-8d58-47a0-8b5b-5b778b883ade' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-42ea35b7-8d58-47a0-8b5b-5b778b883ade' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a5246553-1417-4fd2-b0c2-1143920893d2' class='xr-var-data-in' type='checkbox'><label for='data-a5246553-1417-4fd2-b0c2-1143920893d2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([25.        , 15.0862069 ,  9.9137931 , 25.        ,  5.17241379,
           19.82758621, 20.25862069,  4.74137931, 25.        , 10.34482759,
           14.65517241, 25.        ,  0.43103448, 24.56896552, 15.51724138,
            9.48275862, 25.        ,  5.60344828, 19.39655172, 20.68965517,
            4.31034483, 25.        , 10.77586207, 14.22413793, 25.        ,
            0.86206897, 24.13793103, 15.94827586,  9.05172414, 25.        ,
            6.03448276, 18.96551724, 21.12068966,  3.87931034, 25.        ,
           11.20689655, 13.79310345, 25.        ,  1.29310345, 23.70689655,
           16.37931034,  8.62068966, 25.        ,  6.46551724, 18.53448276,
           21.55172414,  3.44827586, 25.        , 11.63793103, 13.36206897,
           25.        ,  1.72413793, 23.27586207, 16.81034483,  8.18965517,
           25.        ,  6.89655172, 18.10344828, 21.98275862,  3.01724138,
           25.        , 12.06896552, 12.93103448, 25.        ,  2.15517241,
           22.84482759, 17.24137931,  7.75862069, 25.        ,  7.32758621,
           17.67241379, 22.4137931 ,  2.5862069 , 25.        , 12.5       ,
           12.5       , 25.        ,  2.5862069 , 22.4137931 , 17.67241379,
            7.32758621, 25.        ,  7.75862069, 17.24137931, 22.84482759,
            2.15517241, 25.        , 12.93103448, 12.06896552, 25.        ,
            3.01724138, 21.98275862, 18.10344828,  6.89655172, 25.        ,
            8.18965517, 16.81034483, 23.27586207,  1.72413793, 25.        ,
           13.36206897, 11.63793103, 25.        ,  3.44827586, 21.55172414,
           18.53448276,  6.46551724, 25.        ,  8.62068966, 16.37931034,
           23.70689655,  1.29310345, 25.        , 13.79310345, 11.20689655,
           25.        ,  3.87931034, 21.12068966, 18.96551724,  6.03448276,
           25.        ,  9.05172414, 15.94827586, 24.13793103,  0.86206897,
           25.        , 14.22413793, 10.77586207, 25.        ,  4.31034483,
           20.68965517, 19.39655172,  5.60344828, 25.        ,  9.48275862,
           15.51724138, 24.56896552,  0.43103448, 25.        , 14.65517241,
           10.34482759, 25.        ,  4.74137931, 20.25862069, 19.82758621,
            5.17241379, 25.        ,  9.9137931 , 15.0862069 , 25.        ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dy</span></div><div class='xr-var-dims'>(s)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-15.59 -9.409 ... -9.409 -15.59</div><input id='attrs-3e032aab-3497-407c-a6d1-195c5057d4b8' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-3e032aab-3497-407c-a6d1-195c5057d4b8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f400a26c-ca0f-4c5a-a3b9-5ab6d0fbc6f6' class='xr-var-data-in' type='checkbox'><label for='data-f400a26c-ca0f-4c5a-a3b9-5ab6d0fbc6f6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([-15.59139785,  -9.40860215,  -6.1827957 , -15.59139785,
            -3.22580645, -12.3655914 , -12.6344086 ,  -2.95698925,
           -15.59139785,  -6.4516129 ,  -9.13978495, -15.59139785,
            -0.2688172 , -15.32258065,  -9.67741935,  -5.91397849,
           -15.59139785,  -3.49462366, -12.09677419, -12.90322581,
            -2.68817204, -15.59139785,  -6.72043011,  -8.87096774,
           -15.59139785,  -0.53763441, -15.05376344,  -9.94623656,
            -5.64516129, -15.59139785,  -3.76344086, -11.82795699,
           -13.17204301,  -2.41935484, -15.59139785,  -6.98924731,
            -8.60215054, -15.59139785,  -0.80645161, -14.78494624,
           -10.21505376,  -5.37634409, -15.59139785,  -4.03225806,
           -11.55913978, -13.44086022,  -2.15053763, -15.59139785,
            -7.25806452,  -8.33333333, -15.59139785,  -1.07526882,
           -14.51612903, -10.48387097,  -5.10752688, -15.59139785,
            -4.30107527, -11.29032258, -13.70967742,  -1.88172043,
           -15.59139785,  -7.52688172,  -8.06451613, -15.59139785,
            -1.34408602, -14.24731183, -10.75268817,  -4.83870968,
           -15.59139785,  -4.56989247, -11.02150538, -13.97849462,
            -1.61290323, -15.59139785,  -7.79569892,  -7.79569892,
           -15.59139785,  -1.61290323, -13.97849462, -11.02150538,
            -4.56989247, -15.59139785,  -4.83870968, -10.75268817,
           -14.24731183,  -1.34408602, -15.59139785,  -8.06451613,
            -7.52688172, -15.59139785,  -1.88172043, -13.70967742,
           -11.29032258,  -4.30107527, -15.59139785,  -5.10752688,
           -10.48387097, -14.51612903,  -1.07526882, -15.59139785,
            -8.33333333,  -7.25806452, -15.59139785,  -2.15053763,
           -13.44086022, -11.55913978,  -4.03225806, -15.59139785,
            -5.37634409, -10.21505376, -14.78494624,  -0.80645161,
           -15.59139785,  -8.60215054,  -6.98924731, -15.59139785,
            -2.41935484, -13.17204301, -11.82795699,  -3.76344086,
           -15.59139785,  -5.64516129,  -9.94623656, -15.05376344,
            -0.53763441, -15.59139785,  -8.87096774,  -6.72043011,
           -15.59139785,  -2.68817204, -12.90322581, -12.09677419,
            -3.49462366, -15.59139785,  -5.91397849,  -9.67741935,
           -15.32258065,  -0.2688172 , -15.59139785,  -9.13978495,
            -6.4516129 , -15.59139785,  -2.95698925, -12.6344086 ,
           -12.3655914 ,  -3.22580645, -15.59139785,  -6.1827957 ,
            -9.40860215, -15.59139785])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>layer</span></div><div class='xr-var-dims'>(layer)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1 2 3 4 5 6 7 ... 15 16 17 18 19 20</div><input id='attrs-c6f5f054-33ff-4397-a053-2419b55cb162' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c6f5f054-33ff-4397-a053-2419b55cb162' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6e96b17b-00a3-4f2a-b10b-33c4ae26f444' class='xr-var-data-in' type='checkbox'><label for='data-6e96b17b-00a3-4f2a-b10b-33c4ae26f444' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
           19, 20])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>top</span></div><div class='xr-var-dims'>(layer, s)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.76 5.76 5.76 ... 2.875 2.875</div><input id='attrs-5d93e6f0-d4c2-4afe-a6e4-7264fa46d246' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-5d93e6f0-d4c2-4afe-a6e4-7264fa46d246' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4cf57631-afb8-4894-91ca-afbe04939710' class='xr-var-data-in' type='checkbox'><label for='data-4cf57631-afb8-4894-91ca-afbe04939710' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[5.76000023, 5.76000023, 5.76000023, ..., 8.83600044, 8.83600044,
            8.83600044],
           [5.76000023, 5.76000023, 5.76000023, ..., 8.83600044, 8.83600044,
            8.83600044],
           [5.76000023, 5.76000023, 5.76000023, ..., 8.83600044, 8.83600044,
            8.83600044],
           ...,
           [4.5450002 , 4.5450002 , 4.5450002 , ..., 5.2677002 , 5.2677002 ,
            5.2677002 ],
           [3.33000016, 3.33000016, 3.33000016, ..., 4.07140017, 4.07140017,
            4.07140017],
           [2.11500013, 2.11500013, 2.11500013, ..., 2.87510014, 2.87510014,
            2.87510014]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>bottom</span></div><div class='xr-var-dims'>(layer, s)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.76 5.76 5.76 ... 1.679 1.679</div><input id='attrs-a257926e-32b8-40f0-9b99-d8825064b94c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a257926e-32b8-40f0-9b99-d8825064b94c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f7130b2f-38e4-42a7-8dbe-2cfd4d993914' class='xr-var-data-in' type='checkbox'><label for='data-f7130b2f-38e4-42a7-8dbe-2cfd4d993914' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[5.76000023, 5.76000023, 5.76000023, ..., 8.83600044, 8.83600044,
            8.83600044],
           [5.76000023, 5.76000023, 5.76000023, ..., 8.83600044, 8.83600044,
            8.83600044],
           [5.76000023, 5.76000023, 5.76000023, ..., 8.83600044, 8.83600044,
            8.83600044],
           ...,
           [3.33000016, 3.33000016, 3.33000016, ..., 4.07140017, 4.07140017,
            4.07140017],
           [2.11500013, 2.11500013, 2.11500013, ..., 2.87510014, 2.87510014,
            2.87510014],
           [0.9000001 , 0.9000001 , 0.9000001 , ..., 1.67880011, 1.67880011,
            1.67880011]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>s</span></div><div class='xr-var-dims'>(s)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>14.73 38.35 ... 2.702e+03 2.725e+03</div><input id='attrs-9f0e6355-e40b-49a3-84cf-088cdb0c49d9' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9f0e6355-e40b-49a3-84cf-088cdb0c49d9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2a07ce6e-9680-414b-8ef3-de37dd0e23a9' class='xr-var-data-in' type='checkbox'><label for='data-2a07ce6e-9680-414b-8ef3-de37dd0e23a9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([  14.731698,   38.353213,   53.084911,   73.658489,   91.438125,
            106.169822,  129.791338,  144.523036,  162.048676,  182.876249,
            197.607947,  220.975468,  235.96116 ,  250.692858,  274.314374,
            289.046072,  309.365655,  327.399285,  342.130983,  365.752498,
            380.484196,  397.755842,  418.83741 ,  433.569108,  456.682634,
            471.922321,  486.654019,  510.275534,  525.007232,  545.072821,
            563.360446,  578.092143,  601.713659,  616.445357,  633.463008,
            654.79857 ,  669.530268,  692.389799,  707.883481,  722.615179,
            746.236695,  760.968393,  780.779986,  799.321606,  814.053304,
            837.674819,  852.406517,  869.170174,  890.759731,  905.491429,
            928.096965,  943.844642,  958.57634 ,  982.197855,  996.929553,
           1016.487152, 1035.282767, 1050.014464, 1073.63598 , 1088.367678,
           1104.877339, 1126.720891, 1141.452589, 1163.804131, 1179.805802,
           1194.5375  , 1218.159016, 1232.890714, 1252.194318, 1271.243927,
           1285.975625, 1309.59714 , 1324.328838, 1340.584505, 1362.682052,
           1377.41375 , 1399.511296, 1415.766963, 1430.498661, 1454.120176,
           1468.851874, 1487.901483, 1507.205088, 1521.936785, 1545.558301,
           1560.289999, 1576.291671, 1598.643212, 1613.37491 , 1635.218462,
           1651.728123, 1666.459821, 1690.081337, 1704.813035, 1723.608649,
           1743.166248, 1757.897946, 1781.519461, 1796.251159, 1811.998836,
           1834.604373, 1849.336071, 1870.925628, 1887.689284, 1902.420982,
           1926.042497, 1940.774195, 1959.315815, 1979.127409, 1993.859106,
           2017.480622, 2032.21232 , 2047.706002, 2070.565533, 2085.297231,
           2106.632793, 2123.650444, 2138.382142, 2162.003658, 2176.735356,
           2195.022981, 2215.088569, 2229.820267, 2253.441782, 2268.17348 ,
           2283.413168, 2306.526694, 2321.258392, 2342.339959, 2359.611605,
           2374.343303, 2397.964818, 2412.696516, 2430.730146, 2451.04973 ,
           2465.781427, 2489.402943, 2504.134641, 2519.120333, 2542.487854,
           2557.219552, 2578.047125, 2595.572765, 2610.304463, 2633.925979,
           2648.657677, 2666.437312, 2687.01089 , 2701.742588, 2725.364103])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ds</span></div><div class='xr-var-dims'>(s)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>29.46 17.78 11.68 ... 17.78 29.46</div><input id='attrs-7d8bec1e-83f3-471d-b786-6c440456d413' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7d8bec1e-83f3-471d-b786-6c440456d413' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-14006416-7dab-45d1-9620-6af8cce5e9b7' class='xr-var-data-in' type='checkbox'><label for='data-14006416-7dab-45d1-9620-6af8cce5e9b7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([29.46339571, 17.77963534, 11.68376037, 29.46339571,  6.09587498,
           23.36752074, 23.87551032,  5.58788539, 29.46339571, 12.19174995,
           17.27164576, 29.46339571,  0.50798958, 28.95540613, 18.28762492,
           11.17577079, 29.46339571,  6.60386456, 22.85953116, 24.3834999 ,
            5.07989581, 29.46339571, 12.69973953, 16.76365618, 29.46339571,
            1.01597916, 28.44741655, 18.79561451, 10.66778121, 29.46339571,
            7.11185414, 22.35154157, 24.89148948,  4.57190623, 29.46339571,
           13.20772911, 16.2556666 , 29.46339571,  1.52396874, 27.93942697,
           19.30360409, 10.15979162, 29.46339571,  7.61984372, 21.84355199,
           25.39947906,  4.06391665, 29.46339571, 13.71571869, 15.74767702,
           29.46339571,  2.03195833, 27.43143739, 19.81159367,  9.65180204,
           29.46339571,  8.1278333 , 21.33556241, 25.90746864,  3.55592707,
           29.46339571, 14.22370827, 15.23968744, 29.46339571,  2.53994791,
           26.92344781, 20.31958325,  9.14381246, 29.46339571,  8.63582288,
           20.82757283, 26.41545822,  3.04793749, 29.46339571, 14.73169786,
           14.73169786, 29.46339571,  3.04793749, 26.41545822, 20.82757283,
            8.63582288, 29.46339571,  9.14381246, 20.31958325, 26.92344781,
            2.53994791, 29.46339571, 15.23968744, 14.22370827, 29.46339571,
            3.55592707, 25.90746864, 21.33556241,  8.1278333 , 29.46339571,
            9.65180204, 19.81159367, 27.43143739,  2.03195832, 29.46339571,
           15.74767702, 13.71571869, 29.46339571,  4.06391665, 25.39947906,
           21.84355199,  7.61984372, 29.46339571, 10.15979162, 19.30360409,
           27.93942697,  1.52396874, 29.46339571, 16.2556666 , 13.20772911,
           29.46339571,  4.57190623, 24.89148948, 22.35154157,  7.11185414,
           29.46339571, 10.66778121, 18.79561451, 28.44741655,  1.01597916,
           29.46339571, 16.76365618, 12.69973953, 29.46339571,  5.07989581,
           24.3834999 , 22.85953116,  6.60386456, 29.46339571, 11.17577079,
           18.28762492, 28.95540613,  0.50798958, 29.46339571, 17.27164576,
           12.19174995, 29.46339571,  5.58788539, 23.87551032, 23.36752074,
            6.09587497, 29.46339571, 11.68376037, 17.77963534, 29.46339571])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-720b94f6-10b3-4e59-a36c-a01a600798b1' class='xr-section-summary-in' type='checkbox'  ><label for='section-720b94f6-10b3-4e59-a36c-a01a600798b1' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>layer</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-507fc261-7cb5-407e-b8d7-68ec9a9c606d' class='xr-index-data-in' type='checkbox'/><label for='index-507fc261-7cb5-407e-b8d7-68ec9a9c606d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], dtype=&#x27;int64&#x27;, name=&#x27;layer&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>s</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-77cca194-fc48-4460-b5c7-e9ef213117e1' class='xr-index-data-in' type='checkbox'/><label for='index-77cca194-fc48-4460-b5c7-e9ef213117e1' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([14.731697856155446,  38.35321338409926, 53.084911240260034,
            73.65848928078788,  91.43812462444505, 106.16982248058866,
           129.79133800852065, 144.52303586468673, 162.04867641771818,
            182.8762492488771,
           ...
           2557.2195519960724, 2578.0471248271865, 2595.5727653802364,
           2610.3044632363935, 2633.9259787643396, 2648.6576766205017,
            2666.437311964137, 2687.0108900045784, 2701.7425878607337,
            2725.364103388758],
          dtype=&#x27;float64&#x27;, name=&#x27;s&#x27;, length=150))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-225d9e55-3a92-4ae3-9a37-23b046942026' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-225d9e55-3a92-4ae3-9a37-23b046942026' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 107-108

Now that we have selected our data we can plot it.

.. GENERATED FROM PYTHON SOURCE LINES 109-111

.. code-block:: Python

    imod.visualize.cross_section(xsection_allocated, "viridis", [0, 1])




.. image-sg:: /user-guide/images/sphx_glr_09-topsystem_004.png
   :alt: 09 topsystem
   :srcset: /user-guide/images/sphx_glr_09-topsystem_004.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    (<Figure size 640x480 with 2 Axes>, <Axes: >)



.. GENERATED FROM PYTHON SOURCE LINES 112-113

Let's plot the locations of our river stages and bottom elevations.

.. GENERATED FROM PYTHON SOURCE LINES 114-127

.. code-block:: Python

    import matplotlib.pyplot as plt

    stage_line = imod.select.cross_section_linestring(planar_river["stage"], geometry)
    stage_bottom = imod.select.cross_section_linestring(planar_river["bottom"], geometry)

    fig, ax = plt.subplots()

    imod.visualize.cross_section(xsection_allocated, "viridis", [0, 1], fig=fig, ax=ax)
    x_line = stage_line["s"] + stage_line["ds"] / 2
    ax.scatter(x_line, stage_line.values, marker=7, c="k")
    ax.scatter(x_line, stage_bottom.values, marker=6, c="k")





.. image-sg:: /user-guide/images/sphx_glr_09-topsystem_005.png
   :alt: 09 topsystem
   :srcset: /user-guide/images/sphx_glr_09-topsystem_005.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    <matplotlib.collections.PathCollection object at 0x00000289B8C7DB50>



.. GENERATED FROM PYTHON SOURCE LINES 128-130

The above plot might look a bit off. Let's plot the layer numbers, so that we
can identify where model layers are located.

.. GENERATED FROM PYTHON SOURCE LINES 130-141

.. code-block:: Python

    import xarray as xr

    layer_grid = layer_model.layer * xr.ones_like(layer_model["top"])
    layer_grid.coords["top"] = layer_model["top"]
    layer_grid.coords["bottom"] = layer_model["bottom"]
    xsection_layer_nr = imod.select.cross_section_linestring(layer_grid, geometry)

    imod.visualize.cross_section(xsection_layer_nr, "tab20", np.arange(21))
    ax.scatter(x_line, stage_line.values, marker=7, c="k")
    ax.scatter(x_line, stage_bottom.values, marker=6, c="k")




.. image-sg:: /user-guide/images/sphx_glr_09-topsystem_006.png
   :alt: 09 topsystem
   :srcset: /user-guide/images/sphx_glr_09-topsystem_006.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    <matplotlib.collections.PathCollection object at 0x00000289B9E18110>



.. GENERATED FROM PYTHON SOURCE LINES 142-149

Overview allocation options
---------------------------

There are multiple options available to allocate rivers. For a full
description of all options, see the documentation of
:func:`imod.prepare.ALLOCATION_OPTION`. We can print all possible options as
follows:

.. GENERATED FROM PYTHON SOURCE LINES 149-153

.. code-block:: Python


    for option in ALLOCATION_OPTION:
        print(option.name)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    stage_to_riv_bot
    first_active_to_elevation
    stage_to_riv_bot_drn_above
    at_elevation
    at_first_active




.. GENERATED FROM PYTHON SOURCE LINES 154-155

Let's make plots for each option to visualize the effect of each choice.

.. GENERATED FROM PYTHON SOURCE LINES 155-211

.. code-block:: Python


    # Create grid for plots
    fig, axes = plt.subplots(3, 2, sharex=True, sharey=True, figsize=(11, 11))
    axes = np.ravel(axes)

    # The top left plot shows the elevation of the river bottom (upward triangle)
    # and river stage (downward triangle).
    ax = axes[0]
    imod.visualize.cross_section(
        xsection_layer_nr,
        "tab20",
        np.arange(21),
        kwargs_colorbar={"plot_colorbar": False},
        fig=fig,
        ax=ax,
    )
    ax.scatter(x_line, stage_line.values, marker=7, c="k")
    ax.scatter(x_line, stage_bottom.values, marker=6, c="k")
    ax.set_title("stage and bottom elevation")

    # Loop over allocation options, and plot the allocated cells as a polygon,
    # using the "aquitard" feature of the cross_section plot.
    for i, option in enumerate(ALLOCATION_OPTION, start=1):
        riv_allocated, _ = allocate_riv_cells(
            allocation_option=option,
            active=layer_model["idomain"] == 1,
            top=layer_model["top"],
            bottom=layer_model["bottom"],
            stage=planar_river["stage"],
            bottom_elevation=planar_river["bottom"],
        )
        riv_allocated.coords["top"] = layer_model["top"]
        riv_allocated.coords["bottom"] = layer_model["bottom"]

        xsection_allocated = imod.select.cross_section_linestring(riv_allocated, geometry)
        ax = axes[i]
        if (i % 2) == 0:
            kwargs_colorbar = {"plot_colorbar": False}
        else:
            kwargs_colorbar = {"plot_colorbar": True}
        kwargs_aquitards = {"edgecolor": "k", "facecolor": "grey"}
        imod.visualize.cross_section(
            xsection_layer_nr,
            "tab20",
            np.arange(21),
            aquitards=xsection_allocated,
            kwargs_aquitards=kwargs_aquitards,
            kwargs_colorbar=kwargs_colorbar,
            fig=fig,
            ax=ax,
        )
        ax.set_title(f"option: {option.name}")

    # Enforce tight layout to remove whitespace inbetween plots.
    plt.tight_layout()




.. image-sg:: /user-guide/images/sphx_glr_09-topsystem_007.png
   :alt: stage and bottom elevation, option: stage_to_riv_bot, option: first_active_to_elevation, option: stage_to_riv_bot_drn_above, option: at_elevation, option: at_first_active
   :srcset: /user-guide/images/sphx_glr_09-topsystem_007.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 212-223

You can see the chosen option matters quite a lot. ``at_elevation`` allocates
cells in the model layer containing the river bottom elevation.
``at_first_active`` allocates only at the first active model layer.
``first_active_to_elevation`` allocates cells from first active model layer to
the model layer containing the river bottom elevation. ``stage_to_riv_bot``
allocates cells from the model layer containing river stage up until the model
layer containing bottom elevation. Finally ``stage_to_riv_bot_drn_above``
allocates *river* cells from the model layer containing river stage to the
model layer containing the river bottom elevation and allocates *drain* cells
from the first active model layer to the model layer containing the river
stage elevation. The allocated *drain* cells are not shown in the plot.

.. GENERATED FROM PYTHON SOURCE LINES 227-234

Distribute conductance
----------------------

Next, we'll take a look at distributing conductances, as there are multiple
ways to distribute conductances over layers. For example, it is possible to
distribute conductances equally across layers, weighted by layer thickness, or
by transmissivity.

.. GENERATED FROM PYTHON SOURCE LINES 234-237

.. code-block:: Python


    from imod.prepare import DISTRIBUTING_OPTION, distribute_riv_conductance








.. GENERATED FROM PYTHON SOURCE LINES 238-239

Here's a map of how the conductances are distributed in our dataset.

.. GENERATED FROM PYTHON SOURCE LINES 239-245

.. code-block:: Python


    imod.visualize.plot_map(
        planar_river["conductance"], "magma", np.logspace(-2, 3, 11), overlays
    )





.. image-sg:: /user-guide/images/sphx_glr_09-topsystem_008.png
   :alt: 09 topsystem
   :srcset: /user-guide/images/sphx_glr_09-topsystem_008.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    (<Figure size 640x480 with 2 Axes>, <Axes: >)



.. GENERATED FROM PYTHON SOURCE LINES 246-248

First compute the allocated river cells for stage to river bottom elevation
again. This time we'll use the ``stage_to_riv_bot`` option.

.. GENERATED FROM PYTHON SOURCE LINES 248-260

.. code-block:: Python


    riv_allocated, _ = allocate_riv_cells(
        allocation_option=ALLOCATION_OPTION.stage_to_riv_bot,
        active=layer_model["idomain"] == 1,
        top=layer_model["top"],
        bottom=layer_model["bottom"],
        stage=planar_river["stage"],
        bottom_elevation=planar_river["bottom"],
    )

    riv_allocated






.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
    <defs>
    <symbol id="icon-database" viewBox="0 0 32 32">
    <path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
    <path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    <path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    </symbol>
    <symbol id="icon-file-text2" viewBox="0 0 32 32">
    <path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
    <path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    </symbol>
    </defs>
    </svg>
    <style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
     *
     */

    :root {
      --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
      --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
      --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
      --xr-border-color: var(--jp-border-color2, #e0e0e0);
      --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
      --xr-background-color: var(--jp-layout-color0, white);
      --xr-background-color-row-even: var(--jp-layout-color1, white);
      --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
    }

    html[theme=dark],
    html[data-theme=dark],
    body[data-theme=dark],
    body.vscode-dark {
      --xr-font-color0: rgba(255, 255, 255, 1);
      --xr-font-color2: rgba(255, 255, 255, 0.54);
      --xr-font-color3: rgba(255, 255, 255, 0.38);
      --xr-border-color: #1F1F1F;
      --xr-disabled-color: #515151;
      --xr-background-color: #111111;
      --xr-background-color-row-even: #111111;
      --xr-background-color-row-odd: #313131;
    }

    .xr-wrap {
      display: block !important;
      min-width: 300px;
      max-width: 700px;
    }

    .xr-text-repr-fallback {
      /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
      display: none;
    }

    .xr-header {
      padding-top: 6px;
      padding-bottom: 6px;
      margin-bottom: 4px;
      border-bottom: solid 1px var(--xr-border-color);
    }

    .xr-header > div,
    .xr-header > ul {
      display: inline;
      margin-top: 0;
      margin-bottom: 0;
    }

    .xr-obj-type,
    .xr-array-name {
      margin-left: 2px;
      margin-right: 10px;
    }

    .xr-obj-type {
      color: var(--xr-font-color2);
    }

    .xr-sections {
      padding-left: 0 !important;
      display: grid;
      grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
    }

    .xr-section-item {
      display: contents;
    }

    .xr-section-item input {
      display: inline-block;
      opacity: 0;
    }

    .xr-section-item input + label {
      color: var(--xr-disabled-color);
    }

    .xr-section-item input:enabled + label {
      cursor: pointer;
      color: var(--xr-font-color2);
    }

    .xr-section-item input:focus + label {
      border: 2px solid var(--xr-font-color0);
    }

    .xr-section-item input:enabled + label:hover {
      color: var(--xr-font-color0);
    }

    .xr-section-summary {
      grid-column: 1;
      color: var(--xr-font-color2);
      font-weight: 500;
    }

    .xr-section-summary > span {
      display: inline-block;
      padding-left: 0.5em;
    }

    .xr-section-summary-in:disabled + label {
      color: var(--xr-font-color2);
    }

    .xr-section-summary-in + label:before {
      display: inline-block;
      content: '►';
      font-size: 11px;
      width: 15px;
      text-align: center;
    }

    .xr-section-summary-in:disabled + label:before {
      color: var(--xr-disabled-color);
    }

    .xr-section-summary-in:checked + label:before {
      content: '▼';
    }

    .xr-section-summary-in:checked + label > span {
      display: none;
    }

    .xr-section-summary,
    .xr-section-inline-details {
      padding-top: 4px;
      padding-bottom: 4px;
    }

    .xr-section-inline-details {
      grid-column: 2 / -1;
    }

    .xr-section-details {
      display: none;
      grid-column: 1 / -1;
      margin-bottom: 5px;
    }

    .xr-section-summary-in:checked ~ .xr-section-details {
      display: contents;
    }

    .xr-array-wrap {
      grid-column: 1 / -1;
      display: grid;
      grid-template-columns: 20px auto;
    }

    .xr-array-wrap > label {
      grid-column: 1;
      vertical-align: top;
    }

    .xr-preview {
      color: var(--xr-font-color3);
    }

    .xr-array-preview,
    .xr-array-data {
      padding: 0 5px !important;
      grid-column: 2;
    }

    .xr-array-data,
    .xr-array-in:checked ~ .xr-array-preview {
      display: none;
    }

    .xr-array-in:checked ~ .xr-array-data,
    .xr-array-preview {
      display: inline-block;
    }

    .xr-dim-list {
      display: inline-block !important;
      list-style: none;
      padding: 0 !important;
      margin: 0;
    }

    .xr-dim-list li {
      display: inline-block;
      padding: 0;
      margin: 0;
    }

    .xr-dim-list:before {
      content: '(';
    }

    .xr-dim-list:after {
      content: ')';
    }

    .xr-dim-list li:not(:last-child):after {
      content: ',';
      padding-right: 5px;
    }

    .xr-has-index {
      font-weight: bold;
    }

    .xr-var-list,
    .xr-var-item {
      display: contents;
    }

    .xr-var-item > div,
    .xr-var-item label,
    .xr-var-item > .xr-var-name span {
      background-color: var(--xr-background-color-row-even);
      margin-bottom: 0;
    }

    .xr-var-item > .xr-var-name:hover span {
      padding-right: 5px;
    }

    .xr-var-list > li:nth-child(odd) > div,
    .xr-var-list > li:nth-child(odd) > label,
    .xr-var-list > li:nth-child(odd) > .xr-var-name span {
      background-color: var(--xr-background-color-row-odd);
    }

    .xr-var-name {
      grid-column: 1;
    }

    .xr-var-dims {
      grid-column: 2;
    }

    .xr-var-dtype {
      grid-column: 3;
      text-align: right;
      color: var(--xr-font-color2);
    }

    .xr-var-preview {
      grid-column: 4;
    }

    .xr-index-preview {
      grid-column: 2 / 5;
      color: var(--xr-font-color2);
    }

    .xr-var-name,
    .xr-var-dims,
    .xr-var-dtype,
    .xr-preview,
    .xr-attrs dt {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-right: 10px;
    }

    .xr-var-name:hover,
    .xr-var-dims:hover,
    .xr-var-dtype:hover,
    .xr-attrs dt:hover {
      overflow: visible;
      width: auto;
      z-index: 1;
    }

    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      display: none;
      background-color: var(--xr-background-color) !important;
      padding-bottom: 5px !important;
    }

    .xr-var-attrs-in:checked ~ .xr-var-attrs,
    .xr-var-data-in:checked ~ .xr-var-data,
    .xr-index-data-in:checked ~ .xr-index-data {
      display: block;
    }

    .xr-var-data > table {
      float: right;
    }

    .xr-var-name span,
    .xr-var-data,
    .xr-index-name div,
    .xr-index-data,
    .xr-attrs {
      padding-left: 25px !important;
    }

    .xr-attrs,
    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      grid-column: 1 / -1;
    }

    dl.xr-attrs {
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: 125px auto;
    }

    .xr-attrs dt,
    .xr-attrs dd {
      padding: 0;
      margin: 0;
      float: left;
      padding-right: 10px;
      width: auto;
    }

    .xr-attrs dt {
      font-weight: normal;
      grid-column: 1;
    }

    .xr-attrs dt:hover span {
      display: inline-block;
      background: var(--xr-background-color);
      padding-right: 10px;
    }

    .xr-attrs dd {
      grid-column: 2;
      white-space: pre-wrap;
      word-break: break-all;
    }

    .xr-icon-database,
    .xr-icon-file-text2,
    .xr-no-icon {
      display: inline-block;
      vertical-align: middle;
      width: 1em;
      height: 1.5em !important;
      stroke-width: 0;
      stroke: currentColor;
      fill: currentColor;
    }
    </style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (layer: 20, y: 200, x: 500)&gt; Size: 2MB
    array([[[False, False, False, ...,  True,  True,  True],
            [False, False, False, ..., False,  True,  True],
            [False, False, False, ..., False,  True,  True],
            ...,
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False]],

           [[False, False, False, ...,  True,  True,  True],
            [False, False, False, ..., False,  True,  True],
            [False, False, False, ..., False,  True,  True],
            ...,
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False]],

           [[False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False,  True],
            ...,
    ...
            ...,
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False]],

           [[False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            ...,
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False]],

           [[False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            ...,
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False]]])
    Coordinates:
      * x        (x) float64 4kB 2.375e+05 2.375e+05 2.376e+05 ... 2.5e+05 2.5e+05
      * y        (y) float64 2kB 5.64e+05 5.64e+05 5.639e+05 ... 5.59e+05 5.59e+05
        dx       float64 8B 25.0
        dy       float64 8B -25.0
      * layer    (layer) int64 160B 1 2 3 4 5 6 7 8 9 ... 12 13 14 15 16 17 18 19 20</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>layer</span>: 20</li><li><span class='xr-has-index'>y</span>: 200</li><li><span class='xr-has-index'>x</span>: 500</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-0a24749d-e5d1-4087-9169-6d20febba5fc' class='xr-array-in' type='checkbox' checked><label for='section-0a24749d-e5d1-4087-9169-6d20febba5fc' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>False False False False False False ... False False False False False</span></div><div class='xr-array-data'><pre>array([[[False, False, False, ...,  True,  True,  True],
            [False, False, False, ..., False,  True,  True],
            [False, False, False, ..., False,  True,  True],
            ...,
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False]],

           [[False, False, False, ...,  True,  True,  True],
            [False, False, False, ..., False,  True,  True],
            [False, False, False, ..., False,  True,  True],
            ...,
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False]],

           [[False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False,  True],
            ...,
    ...
            ...,
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False]],

           [[False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            ...,
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False]],

           [[False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            ...,
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False],
            [False, False, False, ..., False, False, False]]])</pre></div></div></li><li class='xr-section-item'><input id='section-8f677624-b71c-416e-911b-26b34b905da3' class='xr-section-summary-in' type='checkbox'  checked><label for='section-8f677624-b71c-416e-911b-26b34b905da3' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.375e+05 2.375e+05 ... 2.5e+05</div><input id='attrs-40b50b63-6d61-412e-a191-101318ef534a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-40b50b63-6d61-412e-a191-101318ef534a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b46c7f7b-ffdc-4816-a5d0-5bd1da302495' class='xr-var-data-in' type='checkbox'><label for='data-b46c7f7b-ffdc-4816-a5d0-5bd1da302495' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([237512.5, 237537.5, 237562.5, ..., 249937.5, 249962.5, 249987.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.64e+05 5.64e+05 ... 5.59e+05</div><input id='attrs-9f5e991c-463c-4d73-b499-34322a24775c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9f5e991c-463c-4d73-b499-34322a24775c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-31f4a662-ebcc-4192-82b7-2db26e2f2c48' class='xr-var-data-in' type='checkbox'><label for='data-31f4a662-ebcc-4192-82b7-2db26e2f2c48' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([563987.5, 563962.5, 563937.5, 563912.5, 563887.5, 563862.5, 563837.5,
           563812.5, 563787.5, 563762.5, 563737.5, 563712.5, 563687.5, 563662.5,
           563637.5, 563612.5, 563587.5, 563562.5, 563537.5, 563512.5, 563487.5,
           563462.5, 563437.5, 563412.5, 563387.5, 563362.5, 563337.5, 563312.5,
           563287.5, 563262.5, 563237.5, 563212.5, 563187.5, 563162.5, 563137.5,
           563112.5, 563087.5, 563062.5, 563037.5, 563012.5, 562987.5, 562962.5,
           562937.5, 562912.5, 562887.5, 562862.5, 562837.5, 562812.5, 562787.5,
           562762.5, 562737.5, 562712.5, 562687.5, 562662.5, 562637.5, 562612.5,
           562587.5, 562562.5, 562537.5, 562512.5, 562487.5, 562462.5, 562437.5,
           562412.5, 562387.5, 562362.5, 562337.5, 562312.5, 562287.5, 562262.5,
           562237.5, 562212.5, 562187.5, 562162.5, 562137.5, 562112.5, 562087.5,
           562062.5, 562037.5, 562012.5, 561987.5, 561962.5, 561937.5, 561912.5,
           561887.5, 561862.5, 561837.5, 561812.5, 561787.5, 561762.5, 561737.5,
           561712.5, 561687.5, 561662.5, 561637.5, 561612.5, 561587.5, 561562.5,
           561537.5, 561512.5, 561487.5, 561462.5, 561437.5, 561412.5, 561387.5,
           561362.5, 561337.5, 561312.5, 561287.5, 561262.5, 561237.5, 561212.5,
           561187.5, 561162.5, 561137.5, 561112.5, 561087.5, 561062.5, 561037.5,
           561012.5, 560987.5, 560962.5, 560937.5, 560912.5, 560887.5, 560862.5,
           560837.5, 560812.5, 560787.5, 560762.5, 560737.5, 560712.5, 560687.5,
           560662.5, 560637.5, 560612.5, 560587.5, 560562.5, 560537.5, 560512.5,
           560487.5, 560462.5, 560437.5, 560412.5, 560387.5, 560362.5, 560337.5,
           560312.5, 560287.5, 560262.5, 560237.5, 560212.5, 560187.5, 560162.5,
           560137.5, 560112.5, 560087.5, 560062.5, 560037.5, 560012.5, 559987.5,
           559962.5, 559937.5, 559912.5, 559887.5, 559862.5, 559837.5, 559812.5,
           559787.5, 559762.5, 559737.5, 559712.5, 559687.5, 559662.5, 559637.5,
           559612.5, 559587.5, 559562.5, 559537.5, 559512.5, 559487.5, 559462.5,
           559437.5, 559412.5, 559387.5, 559362.5, 559337.5, 559312.5, 559287.5,
           559262.5, 559237.5, 559212.5, 559187.5, 559162.5, 559137.5, 559112.5,
           559087.5, 559062.5, 559037.5, 559012.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dx</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>25.0</div><input id='attrs-004b403f-847e-4dd9-bb5f-6f53c8a3ca90' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-004b403f-847e-4dd9-bb5f-6f53c8a3ca90' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e2d303af-bf07-4c6e-9eec-22cb2b9d3a00' class='xr-var-data-in' type='checkbox'><label for='data-e2d303af-bf07-4c6e-9eec-22cb2b9d3a00' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(25.)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dy</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-25.0</div><input id='attrs-d6ba642c-1c1d-42b0-ac7c-7a7b6896487f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d6ba642c-1c1d-42b0-ac7c-7a7b6896487f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-16e997f2-36e0-4b70-a8a8-08e7f6b1ad6c' class='xr-var-data-in' type='checkbox'><label for='data-16e997f2-36e0-4b70-a8a8-08e7f6b1ad6c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(-25.)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>layer</span></div><div class='xr-var-dims'>(layer)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1 2 3 4 5 6 7 ... 15 16 17 18 19 20</div><input id='attrs-e8667b84-c406-4a0a-a57b-9a2dfd89407c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e8667b84-c406-4a0a-a57b-9a2dfd89407c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-571b11ab-4271-44f4-90dd-29f93758e960' class='xr-var-data-in' type='checkbox'><label for='data-571b11ab-4271-44f4-90dd-29f93758e960' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
           19, 20])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-91c86fc6-cdaa-4095-93e1-7793097754d5' class='xr-section-summary-in' type='checkbox'  ><label for='section-91c86fc6-cdaa-4095-93e1-7793097754d5' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-13a68d2f-3e25-42f5-8ad8-9ff9c1f35fa8' class='xr-index-data-in' type='checkbox'/><label for='index-13a68d2f-3e25-42f5-8ad8-9ff9c1f35fa8' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([237512.5, 237537.5, 237562.5, 237587.5, 237612.5, 237637.5, 237662.5,
           237687.5, 237712.5, 237737.5,
           ...
           249762.5, 249787.5, 249812.5, 249837.5, 249862.5, 249887.5, 249912.5,
           249937.5, 249962.5, 249987.5],
          dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=500))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-5590963f-6885-4375-858c-68ed0aa5ef2e' class='xr-index-data-in' type='checkbox'/><label for='index-5590963f-6885-4375-858c-68ed0aa5ef2e' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([563987.5, 563962.5, 563937.5, 563912.5, 563887.5, 563862.5, 563837.5,
           563812.5, 563787.5, 563762.5,
           ...
           559237.5, 559212.5, 559187.5, 559162.5, 559137.5, 559112.5, 559087.5,
           559062.5, 559037.5, 559012.5],
          dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=200))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>layer</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-dfbaa4b1-b81b-4e2f-b0a0-002c8a82909b' class='xr-index-data-in' type='checkbox'/><label for='index-dfbaa4b1-b81b-4e2f-b0a0-002c8a82909b' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], dtype=&#x27;int64&#x27;, name=&#x27;layer&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-219614f5-aa22-4b7b-ae15-77465e650225' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-219614f5-aa22-4b7b-ae15-77465e650225' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 261-265

Distribute river conductance over model layers. There are multiple options
available, which are fully described in
:func:`imod.prepare.DISTRIBUTING_OPTION`. We can print all possible options as
follows:

.. GENERATED FROM PYTHON SOURCE LINES 265-269

.. code-block:: Python


    for option in DISTRIBUTING_OPTION:
        print(option.name)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    by_corrected_transmissivity
    equally
    by_crosscut_thickness
    by_layer_thickness
    by_crosscut_transmissivity
    by_conductivity
    by_layer_transmissivity




.. GENERATED FROM PYTHON SOURCE LINES 270-272

To reduce duplicate code, we are going to store all input data in this
dictionary which we can provide further as keyword arguments.

.. GENERATED FROM PYTHON SOURCE LINES 272-283

.. code-block:: Python


    distributing_data = {
        "allocated": riv_allocated,
        "conductance": planar_river["conductance"],
        "top": layer_model["top"],
        "bottom": layer_model["bottom"],
        "k": layer_model["k"],
        "stage": planar_river["stage"],
        "bottom_elevation": planar_river["bottom"],
    }








.. GENERATED FROM PYTHON SOURCE LINES 284-286

Let's keep things simple first and distribute conductances across layers
equally.

.. GENERATED FROM PYTHON SOURCE LINES 286-293

.. code-block:: Python


    riv_conductance = distribute_riv_conductance(
        distributing_option=DISTRIBUTING_OPTION.by_layer_thickness, **distributing_data
    )
    riv_conductance.coords["top"] = layer_model["top"]
    riv_conductance.coords["bottom"] = layer_model["bottom"]








.. GENERATED FROM PYTHON SOURCE LINES 294-295

Lets repeat the earlier process to produce a nice cross-section plot.

.. GENERATED FROM PYTHON SOURCE LINES 295-316

.. code-block:: Python


    # Select the conductance over the cross section again.
    xsection_distributed = imod.select.cross_section_linestring(riv_conductance, geometry)

    fig, ax = plt.subplots()

    # Plot grey background of active cells
    is_active = ~np.isnan(xsection_distributed.coords["top"])
    imod.visualize.cross_section(
        is_active,
        "Greys",
        [0, 1, 2, 3],
        kwargs_colorbar={"plot_colorbar": False},
        fig=fig,
        ax=ax,
    )
    # Plot conductances
    imod.visualize.cross_section(
        xsection_distributed, "magma", np.logspace(-2, 3, 11), fig=fig, ax=ax
    )




.. image-sg:: /user-guide/images/sphx_glr_09-topsystem_009.png
   :alt: 09 topsystem
   :srcset: /user-guide/images/sphx_glr_09-topsystem_009.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    (<Figure size 640x480 with 2 Axes>, <Axes: >)



.. GENERATED FROM PYTHON SOURCE LINES 317-321

Let's compare the results of all possible options visually. On the top left
we'll plot the hydraulic conductivity, as we haven't looked at that yet. The
other plots show the effects of different settings. Again, distributing
options are described in more detail in :func:`imod.prepare.DISTRIBUTING_OPTION`

.. GENERATED FROM PYTHON SOURCE LINES 321-385

.. code-block:: Python


    fig, axes = plt.subplots(4, 2, figsize=[11, 15], sharex=True, sharey=True)
    axes = np.ravel(axes)

    k = distributing_data["k"].copy()
    k.coords["top"] = layer_model["top"]
    k.coords["bottom"] = layer_model["bottom"]

    xsection_k = imod.select.cross_section_linestring(k, geometry)

    ax = axes[0]
    imod.visualize.cross_section(
        xsection_k,
        "magma",
        np.logspace(-2, 3, 11),
        kwargs_colorbar={"plot_colorbar": False},
        fig=fig,
        ax=ax,
    )
    ax.scatter(x_line, stage_line.values, marker=7, c="k")
    ax.scatter(x_line, stage_bottom.values, marker=6, c="k")
    ax.set_title("hydraulic conductivity")

    for i, option in enumerate(DISTRIBUTING_OPTION, start=1):
        ax = axes[i]
        riv_conductance = distribute_riv_conductance(
            distributing_option=option, **distributing_data
        )
        riv_conductance.coords["top"] = layer_model["top"]
        riv_conductance.coords["bottom"] = layer_model["bottom"]

        xsection_distributed = imod.select.cross_section_linestring(
            riv_conductance, geometry
        )

        if (i % 2) == 0:
            kwargs_colorbar = {"plot_colorbar": False}
        else:
            kwargs_colorbar = {"plot_colorbar": True}

        # Plot grey background of active cells
        is_active = ~np.isnan(xsection_distributed.coords["top"])
        imod.visualize.cross_section(
            is_active,
            "Greys",
            [0, 1, 2, 3],
            kwargs_colorbar={"plot_colorbar": False},
            fig=fig,
            ax=ax,
        )
        # Plot conductances
        imod.visualize.cross_section(
            xsection_distributed,
            "magma",
            np.logspace(-2, 3, 11),
            kwargs_colorbar=kwargs_colorbar,
            fig=fig,
            ax=ax,
        )

        ax.set_title(f"option: {option.name}")

    plt.tight_layout()




.. image-sg:: /user-guide/images/sphx_glr_09-topsystem_010.png
   :alt: hydraulic conductivity, option: by_corrected_transmissivity, option: equally, option: by_crosscut_thickness, option: by_layer_thickness, option: by_crosscut_transmissivity, option: by_conductivity, option: by_layer_transmissivity
   :srcset: /user-guide/images/sphx_glr_09-topsystem_010.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 386-403

You can see quite some wildly varying conductances with depth. First, the most
simple algorithm ``equally`` keeps conductance constant with depth. Second,
correcting ``by_conductivity`` (hydraulic) decreases the conductance in the
deepest layer where rivers occur in the centre of the plot, as conductivity is
lower over there. Correcting ``by_layer_thickness``, however, increases
conductance in this deep layer, as this is a thicker layer. These differences
even out when we correct ``by_layer_transmissivity`` (k * thickness). The
``by_crosscut_thickness`` algorithm accounts for how far the river bottom
penetrates a layer. You can see this reduces conductance in the deep layer
compared to distributing ``by_layer_thickness``.
``by_crosscut_transmissivity`` uses the crosscut thickness instead of the
layer thickness and therefore shows a lower conductance in the deeper layer
compared to ``by_layer_transmissivity``. Finally
``by_corrected_transmissivity`` also corrects for the displacement of the
midpoint over the length where crosscut transmissivity is computed over
(``[layer top - river bottom]/2``) compared to the model cell centre. This
further reduces the conductance in the deeper layer.

.. GENERATED FROM PYTHON SOURCE LINES 406-411

MODFLOW6 package
----------------

The data created can now be used to create a MODFLOW6 package. To construct 3D
grids from planar grids for the stages, we can utilize xarrays broadcasting:

.. GENERATED FROM PYTHON SOURCE LINES 411-419

.. code-block:: Python

    from imod.typing.grid import enforce_dim_order

    riv_stage = planar_river["stage"].where(riv_allocated)
    # Use this function to enforce the right dimension order for iMOD Python.
    riv_stage = enforce_dim_order(riv_stage)

    riv_stage






.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
    <defs>
    <symbol id="icon-database" viewBox="0 0 32 32">
    <path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
    <path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    <path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    </symbol>
    <symbol id="icon-file-text2" viewBox="0 0 32 32">
    <path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
    <path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    </symbol>
    </defs>
    </svg>
    <style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
     *
     */

    :root {
      --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
      --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
      --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
      --xr-border-color: var(--jp-border-color2, #e0e0e0);
      --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
      --xr-background-color: var(--jp-layout-color0, white);
      --xr-background-color-row-even: var(--jp-layout-color1, white);
      --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
    }

    html[theme=dark],
    html[data-theme=dark],
    body[data-theme=dark],
    body.vscode-dark {
      --xr-font-color0: rgba(255, 255, 255, 1);
      --xr-font-color2: rgba(255, 255, 255, 0.54);
      --xr-font-color3: rgba(255, 255, 255, 0.38);
      --xr-border-color: #1F1F1F;
      --xr-disabled-color: #515151;
      --xr-background-color: #111111;
      --xr-background-color-row-even: #111111;
      --xr-background-color-row-odd: #313131;
    }

    .xr-wrap {
      display: block !important;
      min-width: 300px;
      max-width: 700px;
    }

    .xr-text-repr-fallback {
      /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
      display: none;
    }

    .xr-header {
      padding-top: 6px;
      padding-bottom: 6px;
      margin-bottom: 4px;
      border-bottom: solid 1px var(--xr-border-color);
    }

    .xr-header > div,
    .xr-header > ul {
      display: inline;
      margin-top: 0;
      margin-bottom: 0;
    }

    .xr-obj-type,
    .xr-array-name {
      margin-left: 2px;
      margin-right: 10px;
    }

    .xr-obj-type {
      color: var(--xr-font-color2);
    }

    .xr-sections {
      padding-left: 0 !important;
      display: grid;
      grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
    }

    .xr-section-item {
      display: contents;
    }

    .xr-section-item input {
      display: inline-block;
      opacity: 0;
    }

    .xr-section-item input + label {
      color: var(--xr-disabled-color);
    }

    .xr-section-item input:enabled + label {
      cursor: pointer;
      color: var(--xr-font-color2);
    }

    .xr-section-item input:focus + label {
      border: 2px solid var(--xr-font-color0);
    }

    .xr-section-item input:enabled + label:hover {
      color: var(--xr-font-color0);
    }

    .xr-section-summary {
      grid-column: 1;
      color: var(--xr-font-color2);
      font-weight: 500;
    }

    .xr-section-summary > span {
      display: inline-block;
      padding-left: 0.5em;
    }

    .xr-section-summary-in:disabled + label {
      color: var(--xr-font-color2);
    }

    .xr-section-summary-in + label:before {
      display: inline-block;
      content: '►';
      font-size: 11px;
      width: 15px;
      text-align: center;
    }

    .xr-section-summary-in:disabled + label:before {
      color: var(--xr-disabled-color);
    }

    .xr-section-summary-in:checked + label:before {
      content: '▼';
    }

    .xr-section-summary-in:checked + label > span {
      display: none;
    }

    .xr-section-summary,
    .xr-section-inline-details {
      padding-top: 4px;
      padding-bottom: 4px;
    }

    .xr-section-inline-details {
      grid-column: 2 / -1;
    }

    .xr-section-details {
      display: none;
      grid-column: 1 / -1;
      margin-bottom: 5px;
    }

    .xr-section-summary-in:checked ~ .xr-section-details {
      display: contents;
    }

    .xr-array-wrap {
      grid-column: 1 / -1;
      display: grid;
      grid-template-columns: 20px auto;
    }

    .xr-array-wrap > label {
      grid-column: 1;
      vertical-align: top;
    }

    .xr-preview {
      color: var(--xr-font-color3);
    }

    .xr-array-preview,
    .xr-array-data {
      padding: 0 5px !important;
      grid-column: 2;
    }

    .xr-array-data,
    .xr-array-in:checked ~ .xr-array-preview {
      display: none;
    }

    .xr-array-in:checked ~ .xr-array-data,
    .xr-array-preview {
      display: inline-block;
    }

    .xr-dim-list {
      display: inline-block !important;
      list-style: none;
      padding: 0 !important;
      margin: 0;
    }

    .xr-dim-list li {
      display: inline-block;
      padding: 0;
      margin: 0;
    }

    .xr-dim-list:before {
      content: '(';
    }

    .xr-dim-list:after {
      content: ')';
    }

    .xr-dim-list li:not(:last-child):after {
      content: ',';
      padding-right: 5px;
    }

    .xr-has-index {
      font-weight: bold;
    }

    .xr-var-list,
    .xr-var-item {
      display: contents;
    }

    .xr-var-item > div,
    .xr-var-item label,
    .xr-var-item > .xr-var-name span {
      background-color: var(--xr-background-color-row-even);
      margin-bottom: 0;
    }

    .xr-var-item > .xr-var-name:hover span {
      padding-right: 5px;
    }

    .xr-var-list > li:nth-child(odd) > div,
    .xr-var-list > li:nth-child(odd) > label,
    .xr-var-list > li:nth-child(odd) > .xr-var-name span {
      background-color: var(--xr-background-color-row-odd);
    }

    .xr-var-name {
      grid-column: 1;
    }

    .xr-var-dims {
      grid-column: 2;
    }

    .xr-var-dtype {
      grid-column: 3;
      text-align: right;
      color: var(--xr-font-color2);
    }

    .xr-var-preview {
      grid-column: 4;
    }

    .xr-index-preview {
      grid-column: 2 / 5;
      color: var(--xr-font-color2);
    }

    .xr-var-name,
    .xr-var-dims,
    .xr-var-dtype,
    .xr-preview,
    .xr-attrs dt {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-right: 10px;
    }

    .xr-var-name:hover,
    .xr-var-dims:hover,
    .xr-var-dtype:hover,
    .xr-attrs dt:hover {
      overflow: visible;
      width: auto;
      z-index: 1;
    }

    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      display: none;
      background-color: var(--xr-background-color) !important;
      padding-bottom: 5px !important;
    }

    .xr-var-attrs-in:checked ~ .xr-var-attrs,
    .xr-var-data-in:checked ~ .xr-var-data,
    .xr-index-data-in:checked ~ .xr-index-data {
      display: block;
    }

    .xr-var-data > table {
      float: right;
    }

    .xr-var-name span,
    .xr-var-data,
    .xr-index-name div,
    .xr-index-data,
    .xr-attrs {
      padding-left: 25px !important;
    }

    .xr-attrs,
    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      grid-column: 1 / -1;
    }

    dl.xr-attrs {
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: 125px auto;
    }

    .xr-attrs dt,
    .xr-attrs dd {
      padding: 0;
      margin: 0;
      float: left;
      padding-right: 10px;
      width: auto;
    }

    .xr-attrs dt {
      font-weight: normal;
      grid-column: 1;
    }

    .xr-attrs dt:hover span {
      display: inline-block;
      background: var(--xr-background-color);
      padding-right: 10px;
    }

    .xr-attrs dd {
      grid-column: 2;
      white-space: pre-wrap;
      word-break: break-all;
    }

    .xr-icon-database,
    .xr-icon-file-text2,
    .xr-no-icon {
      display: inline-block;
      vertical-align: middle;
      width: 1em;
      height: 1.5em !important;
      stroke-width: 0;
      stroke: currentColor;
      fill: currentColor;
    }
    </style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;stage&#x27; (layer: 20, y: 200, x: 500)&gt; Size: 8MB
    array([[[      nan,       nan,       nan, ..., 1.9508   , 1.9358001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.9258001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.7708   ,
             1.6558001],
            ...,
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan]],

           [[      nan,       nan,       nan, ..., 1.9508   , 1.9358001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.9258001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.7708   ,
             1.6558001],
    ...
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan]],

           [[      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            ...,
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan]]], dtype=float32)
    Coordinates:
      * x        (x) float64 4kB 2.375e+05 2.375e+05 2.376e+05 ... 2.5e+05 2.5e+05
      * y        (y) float64 2kB 5.64e+05 5.64e+05 5.639e+05 ... 5.59e+05 5.59e+05
        dx       float64 8B 25.0
        dy       float64 8B -25.0
      * layer    (layer) int64 160B 1 2 3 4 5 6 7 8 9 ... 12 13 14 15 16 17 18 19 20</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'stage'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>layer</span>: 20</li><li><span class='xr-has-index'>y</span>: 200</li><li><span class='xr-has-index'>x</span>: 500</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-185bae4d-cb72-4efb-84e4-870fedc4eb94' class='xr-array-in' type='checkbox' checked><label for='section-185bae4d-cb72-4efb-84e4-870fedc4eb94' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan nan nan nan nan nan nan nan ... nan nan nan nan nan nan nan nan</span></div><div class='xr-array-data'><pre>array([[[      nan,       nan,       nan, ..., 1.9508   , 1.9358001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.9258001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.7708   ,
             1.6558001],
            ...,
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan]],

           [[      nan,       nan,       nan, ..., 1.9508   , 1.9358001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.9258001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.7708   ,
             1.6558001],
    ...
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan]],

           [[      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            ...,
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan]]], dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-8a2f9e59-62f3-4299-a039-55abfa194331' class='xr-section-summary-in' type='checkbox'  checked><label for='section-8a2f9e59-62f3-4299-a039-55abfa194331' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.375e+05 2.375e+05 ... 2.5e+05</div><input id='attrs-e5e868d5-b686-49d2-9ea7-b2f5bfdc1924' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e5e868d5-b686-49d2-9ea7-b2f5bfdc1924' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b3245462-df95-445d-b782-46de0b79bd21' class='xr-var-data-in' type='checkbox'><label for='data-b3245462-df95-445d-b782-46de0b79bd21' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([237512.5, 237537.5, 237562.5, ..., 249937.5, 249962.5, 249987.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.64e+05 5.64e+05 ... 5.59e+05</div><input id='attrs-169d18f0-6fa3-4083-b11d-f99743669c51' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-169d18f0-6fa3-4083-b11d-f99743669c51' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e34e1bd0-dd9b-45f8-8a7d-ee87518c10ec' class='xr-var-data-in' type='checkbox'><label for='data-e34e1bd0-dd9b-45f8-8a7d-ee87518c10ec' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([563987.5, 563962.5, 563937.5, 563912.5, 563887.5, 563862.5, 563837.5,
           563812.5, 563787.5, 563762.5, 563737.5, 563712.5, 563687.5, 563662.5,
           563637.5, 563612.5, 563587.5, 563562.5, 563537.5, 563512.5, 563487.5,
           563462.5, 563437.5, 563412.5, 563387.5, 563362.5, 563337.5, 563312.5,
           563287.5, 563262.5, 563237.5, 563212.5, 563187.5, 563162.5, 563137.5,
           563112.5, 563087.5, 563062.5, 563037.5, 563012.5, 562987.5, 562962.5,
           562937.5, 562912.5, 562887.5, 562862.5, 562837.5, 562812.5, 562787.5,
           562762.5, 562737.5, 562712.5, 562687.5, 562662.5, 562637.5, 562612.5,
           562587.5, 562562.5, 562537.5, 562512.5, 562487.5, 562462.5, 562437.5,
           562412.5, 562387.5, 562362.5, 562337.5, 562312.5, 562287.5, 562262.5,
           562237.5, 562212.5, 562187.5, 562162.5, 562137.5, 562112.5, 562087.5,
           562062.5, 562037.5, 562012.5, 561987.5, 561962.5, 561937.5, 561912.5,
           561887.5, 561862.5, 561837.5, 561812.5, 561787.5, 561762.5, 561737.5,
           561712.5, 561687.5, 561662.5, 561637.5, 561612.5, 561587.5, 561562.5,
           561537.5, 561512.5, 561487.5, 561462.5, 561437.5, 561412.5, 561387.5,
           561362.5, 561337.5, 561312.5, 561287.5, 561262.5, 561237.5, 561212.5,
           561187.5, 561162.5, 561137.5, 561112.5, 561087.5, 561062.5, 561037.5,
           561012.5, 560987.5, 560962.5, 560937.5, 560912.5, 560887.5, 560862.5,
           560837.5, 560812.5, 560787.5, 560762.5, 560737.5, 560712.5, 560687.5,
           560662.5, 560637.5, 560612.5, 560587.5, 560562.5, 560537.5, 560512.5,
           560487.5, 560462.5, 560437.5, 560412.5, 560387.5, 560362.5, 560337.5,
           560312.5, 560287.5, 560262.5, 560237.5, 560212.5, 560187.5, 560162.5,
           560137.5, 560112.5, 560087.5, 560062.5, 560037.5, 560012.5, 559987.5,
           559962.5, 559937.5, 559912.5, 559887.5, 559862.5, 559837.5, 559812.5,
           559787.5, 559762.5, 559737.5, 559712.5, 559687.5, 559662.5, 559637.5,
           559612.5, 559587.5, 559562.5, 559537.5, 559512.5, 559487.5, 559462.5,
           559437.5, 559412.5, 559387.5, 559362.5, 559337.5, 559312.5, 559287.5,
           559262.5, 559237.5, 559212.5, 559187.5, 559162.5, 559137.5, 559112.5,
           559087.5, 559062.5, 559037.5, 559012.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dx</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>25.0</div><input id='attrs-74a37f88-bda8-46ed-9864-d7948758c268' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-74a37f88-bda8-46ed-9864-d7948758c268' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-55412c4f-022e-4d90-a69a-6234c2899ff0' class='xr-var-data-in' type='checkbox'><label for='data-55412c4f-022e-4d90-a69a-6234c2899ff0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(25.)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dy</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-25.0</div><input id='attrs-e3badd4b-4375-46c7-b9a0-ff8b875e1ca2' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e3badd4b-4375-46c7-b9a0-ff8b875e1ca2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7fc8f3b4-ee63-4ba9-9105-12bc6ee76b0a' class='xr-var-data-in' type='checkbox'><label for='data-7fc8f3b4-ee63-4ba9-9105-12bc6ee76b0a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(-25.)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>layer</span></div><div class='xr-var-dims'>(layer)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1 2 3 4 5 6 7 ... 15 16 17 18 19 20</div><input id='attrs-16f41b84-4bf4-4fa8-b06c-87a8955222d5' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-16f41b84-4bf4-4fa8-b06c-87a8955222d5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1bcf4759-0cf9-4998-828d-115cec725be0' class='xr-var-data-in' type='checkbox'><label for='data-1bcf4759-0cf9-4998-828d-115cec725be0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
           19, 20])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ef3ea947-9bf5-49fc-884a-f1930bc9a49f' class='xr-section-summary-in' type='checkbox'  ><label for='section-ef3ea947-9bf5-49fc-884a-f1930bc9a49f' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-7c728536-118f-4c61-825a-02b3c91e05e5' class='xr-index-data-in' type='checkbox'/><label for='index-7c728536-118f-4c61-825a-02b3c91e05e5' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([237512.5, 237537.5, 237562.5, 237587.5, 237612.5, 237637.5, 237662.5,
           237687.5, 237712.5, 237737.5,
           ...
           249762.5, 249787.5, 249812.5, 249837.5, 249862.5, 249887.5, 249912.5,
           249937.5, 249962.5, 249987.5],
          dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=500))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-f704c9d4-385a-4a1d-8380-f64ee2e90edb' class='xr-index-data-in' type='checkbox'/><label for='index-f704c9d4-385a-4a1d-8380-f64ee2e90edb' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([563987.5, 563962.5, 563937.5, 563912.5, 563887.5, 563862.5, 563837.5,
           563812.5, 563787.5, 563762.5,
           ...
           559237.5, 559212.5, 559187.5, 559162.5, 559137.5, 559112.5, 559087.5,
           559062.5, 559037.5, 559012.5],
          dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=200))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>layer</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-d4b809bf-0b99-4c5c-8dac-cfd93baa614b' class='xr-index-data-in' type='checkbox'/><label for='index-d4b809bf-0b99-4c5c-8dac-cfd93baa614b' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], dtype=&#x27;int64&#x27;, name=&#x27;layer&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b003fd71-40c4-4b59-a808-33f83f16b71e' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-b003fd71-40c4-4b59-a808-33f83f16b71e' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 420-423

We can do the same for the river bottom and construct a river package. Note
that we use the previously distributed conductance which we assigned to the
variable ``riv_conducance``.

.. GENERATED FROM PYTHON SOURCE LINES 423-437

.. code-block:: Python


    riv_bottom = planar_river["bottom"].where(riv_allocated)
    riv_bottom = enforce_dim_order(riv_bottom)

    # Remove coordinates that were added for cross-section plots previously
    riv_conductance = riv_conductance.drop_vars(["bottom", "top"])

    riv = imod.mf6.River(
        stage=riv_stage, conductance=riv_conductance, bottom_elevation=riv_bottom
    )

    riv







.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div>River</div><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
    <defs>
    <symbol id="icon-database" viewBox="0 0 32 32">
    <path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
    <path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    <path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    </symbol>
    <symbol id="icon-file-text2" viewBox="0 0 32 32">
    <path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
    <path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    </symbol>
    </defs>
    </svg>
    <style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
     *
     */

    :root {
      --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
      --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
      --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
      --xr-border-color: var(--jp-border-color2, #e0e0e0);
      --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
      --xr-background-color: var(--jp-layout-color0, white);
      --xr-background-color-row-even: var(--jp-layout-color1, white);
      --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
    }

    html[theme=dark],
    html[data-theme=dark],
    body[data-theme=dark],
    body.vscode-dark {
      --xr-font-color0: rgba(255, 255, 255, 1);
      --xr-font-color2: rgba(255, 255, 255, 0.54);
      --xr-font-color3: rgba(255, 255, 255, 0.38);
      --xr-border-color: #1F1F1F;
      --xr-disabled-color: #515151;
      --xr-background-color: #111111;
      --xr-background-color-row-even: #111111;
      --xr-background-color-row-odd: #313131;
    }

    .xr-wrap {
      display: block !important;
      min-width: 300px;
      max-width: 700px;
    }

    .xr-text-repr-fallback {
      /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
      display: none;
    }

    .xr-header {
      padding-top: 6px;
      padding-bottom: 6px;
      margin-bottom: 4px;
      border-bottom: solid 1px var(--xr-border-color);
    }

    .xr-header > div,
    .xr-header > ul {
      display: inline;
      margin-top: 0;
      margin-bottom: 0;
    }

    .xr-obj-type,
    .xr-array-name {
      margin-left: 2px;
      margin-right: 10px;
    }

    .xr-obj-type {
      color: var(--xr-font-color2);
    }

    .xr-sections {
      padding-left: 0 !important;
      display: grid;
      grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
    }

    .xr-section-item {
      display: contents;
    }

    .xr-section-item input {
      display: inline-block;
      opacity: 0;
    }

    .xr-section-item input + label {
      color: var(--xr-disabled-color);
    }

    .xr-section-item input:enabled + label {
      cursor: pointer;
      color: var(--xr-font-color2);
    }

    .xr-section-item input:focus + label {
      border: 2px solid var(--xr-font-color0);
    }

    .xr-section-item input:enabled + label:hover {
      color: var(--xr-font-color0);
    }

    .xr-section-summary {
      grid-column: 1;
      color: var(--xr-font-color2);
      font-weight: 500;
    }

    .xr-section-summary > span {
      display: inline-block;
      padding-left: 0.5em;
    }

    .xr-section-summary-in:disabled + label {
      color: var(--xr-font-color2);
    }

    .xr-section-summary-in + label:before {
      display: inline-block;
      content: '►';
      font-size: 11px;
      width: 15px;
      text-align: center;
    }

    .xr-section-summary-in:disabled + label:before {
      color: var(--xr-disabled-color);
    }

    .xr-section-summary-in:checked + label:before {
      content: '▼';
    }

    .xr-section-summary-in:checked + label > span {
      display: none;
    }

    .xr-section-summary,
    .xr-section-inline-details {
      padding-top: 4px;
      padding-bottom: 4px;
    }

    .xr-section-inline-details {
      grid-column: 2 / -1;
    }

    .xr-section-details {
      display: none;
      grid-column: 1 / -1;
      margin-bottom: 5px;
    }

    .xr-section-summary-in:checked ~ .xr-section-details {
      display: contents;
    }

    .xr-array-wrap {
      grid-column: 1 / -1;
      display: grid;
      grid-template-columns: 20px auto;
    }

    .xr-array-wrap > label {
      grid-column: 1;
      vertical-align: top;
    }

    .xr-preview {
      color: var(--xr-font-color3);
    }

    .xr-array-preview,
    .xr-array-data {
      padding: 0 5px !important;
      grid-column: 2;
    }

    .xr-array-data,
    .xr-array-in:checked ~ .xr-array-preview {
      display: none;
    }

    .xr-array-in:checked ~ .xr-array-data,
    .xr-array-preview {
      display: inline-block;
    }

    .xr-dim-list {
      display: inline-block !important;
      list-style: none;
      padding: 0 !important;
      margin: 0;
    }

    .xr-dim-list li {
      display: inline-block;
      padding: 0;
      margin: 0;
    }

    .xr-dim-list:before {
      content: '(';
    }

    .xr-dim-list:after {
      content: ')';
    }

    .xr-dim-list li:not(:last-child):after {
      content: ',';
      padding-right: 5px;
    }

    .xr-has-index {
      font-weight: bold;
    }

    .xr-var-list,
    .xr-var-item {
      display: contents;
    }

    .xr-var-item > div,
    .xr-var-item label,
    .xr-var-item > .xr-var-name span {
      background-color: var(--xr-background-color-row-even);
      margin-bottom: 0;
    }

    .xr-var-item > .xr-var-name:hover span {
      padding-right: 5px;
    }

    .xr-var-list > li:nth-child(odd) > div,
    .xr-var-list > li:nth-child(odd) > label,
    .xr-var-list > li:nth-child(odd) > .xr-var-name span {
      background-color: var(--xr-background-color-row-odd);
    }

    .xr-var-name {
      grid-column: 1;
    }

    .xr-var-dims {
      grid-column: 2;
    }

    .xr-var-dtype {
      grid-column: 3;
      text-align: right;
      color: var(--xr-font-color2);
    }

    .xr-var-preview {
      grid-column: 4;
    }

    .xr-index-preview {
      grid-column: 2 / 5;
      color: var(--xr-font-color2);
    }

    .xr-var-name,
    .xr-var-dims,
    .xr-var-dtype,
    .xr-preview,
    .xr-attrs dt {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-right: 10px;
    }

    .xr-var-name:hover,
    .xr-var-dims:hover,
    .xr-var-dtype:hover,
    .xr-attrs dt:hover {
      overflow: visible;
      width: auto;
      z-index: 1;
    }

    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      display: none;
      background-color: var(--xr-background-color) !important;
      padding-bottom: 5px !important;
    }

    .xr-var-attrs-in:checked ~ .xr-var-attrs,
    .xr-var-data-in:checked ~ .xr-var-data,
    .xr-index-data-in:checked ~ .xr-index-data {
      display: block;
    }

    .xr-var-data > table {
      float: right;
    }

    .xr-var-name span,
    .xr-var-data,
    .xr-index-name div,
    .xr-index-data,
    .xr-attrs {
      padding-left: 25px !important;
    }

    .xr-attrs,
    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      grid-column: 1 / -1;
    }

    dl.xr-attrs {
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: 125px auto;
    }

    .xr-attrs dt,
    .xr-attrs dd {
      padding: 0;
      margin: 0;
      float: left;
      padding-right: 10px;
      width: auto;
    }

    .xr-attrs dt {
      font-weight: normal;
      grid-column: 1;
    }

    .xr-attrs dt:hover span {
      display: inline-block;
      background: var(--xr-background-color);
      padding-right: 10px;
    }

    .xr-attrs dd {
      grid-column: 2;
      white-space: pre-wrap;
      word-break: break-all;
    }

    .xr-icon-database,
    .xr-icon-file-text2,
    .xr-no-icon {
      display: inline-block;
      vertical-align: middle;
      width: 1em;
      height: 1.5em !important;
      stroke-width: 0;
      stroke: currentColor;
      fill: currentColor;
    }
    </style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 32MB
    Dimensions:           (x: 500, y: 200, layer: 20)
    Coordinates:
      * x                 (x) float64 4kB 2.375e+05 2.375e+05 ... 2.5e+05 2.5e+05
      * y                 (y) float64 2kB 5.64e+05 5.64e+05 ... 5.59e+05 5.59e+05
        dx                float64 8B 25.0
        dy                float64 8B -25.0
      * layer             (layer) int64 160B 1 2 3 4 5 6 7 ... 14 15 16 17 18 19 20
    Data variables:
        stage             (layer, y, x) float32 8MB nan nan nan nan ... nan nan nan
        conductance       (layer, y, x) float64 16MB nan nan nan nan ... nan nan nan
        bottom_elevation  (layer, y, x) float32 8MB nan nan nan nan ... nan nan nan
        print_input       bool 1B False
        print_flows       bool 1B False
        save_flows        bool 1B False
        observations      object 8B None
        repeat_stress     object 8B None</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-83b28422-8ea4-4dbc-8150-58c46365f213' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-83b28422-8ea4-4dbc-8150-58c46365f213' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>x</span>: 500</li><li><span class='xr-has-index'>y</span>: 200</li><li><span class='xr-has-index'>layer</span>: 20</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-4e2e152f-213e-4da0-872a-f288cb9a4ae9' class='xr-section-summary-in' type='checkbox'  checked><label for='section-4e2e152f-213e-4da0-872a-f288cb9a4ae9' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.375e+05 2.375e+05 ... 2.5e+05</div><input id='attrs-bc4db506-de1a-4ed8-ac98-5c29e6f3e782' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-bc4db506-de1a-4ed8-ac98-5c29e6f3e782' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-013240fe-65a5-4390-b80a-327d0f4cf861' class='xr-var-data-in' type='checkbox'><label for='data-013240fe-65a5-4390-b80a-327d0f4cf861' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([237512.5, 237537.5, 237562.5, ..., 249937.5, 249962.5, 249987.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.64e+05 5.64e+05 ... 5.59e+05</div><input id='attrs-ef1cce1b-c585-4602-8887-c197c47a405e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ef1cce1b-c585-4602-8887-c197c47a405e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-08b66493-79f0-450e-ad74-c3165e212b0a' class='xr-var-data-in' type='checkbox'><label for='data-08b66493-79f0-450e-ad74-c3165e212b0a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([563987.5, 563962.5, 563937.5, 563912.5, 563887.5, 563862.5, 563837.5,
           563812.5, 563787.5, 563762.5, 563737.5, 563712.5, 563687.5, 563662.5,
           563637.5, 563612.5, 563587.5, 563562.5, 563537.5, 563512.5, 563487.5,
           563462.5, 563437.5, 563412.5, 563387.5, 563362.5, 563337.5, 563312.5,
           563287.5, 563262.5, 563237.5, 563212.5, 563187.5, 563162.5, 563137.5,
           563112.5, 563087.5, 563062.5, 563037.5, 563012.5, 562987.5, 562962.5,
           562937.5, 562912.5, 562887.5, 562862.5, 562837.5, 562812.5, 562787.5,
           562762.5, 562737.5, 562712.5, 562687.5, 562662.5, 562637.5, 562612.5,
           562587.5, 562562.5, 562537.5, 562512.5, 562487.5, 562462.5, 562437.5,
           562412.5, 562387.5, 562362.5, 562337.5, 562312.5, 562287.5, 562262.5,
           562237.5, 562212.5, 562187.5, 562162.5, 562137.5, 562112.5, 562087.5,
           562062.5, 562037.5, 562012.5, 561987.5, 561962.5, 561937.5, 561912.5,
           561887.5, 561862.5, 561837.5, 561812.5, 561787.5, 561762.5, 561737.5,
           561712.5, 561687.5, 561662.5, 561637.5, 561612.5, 561587.5, 561562.5,
           561537.5, 561512.5, 561487.5, 561462.5, 561437.5, 561412.5, 561387.5,
           561362.5, 561337.5, 561312.5, 561287.5, 561262.5, 561237.5, 561212.5,
           561187.5, 561162.5, 561137.5, 561112.5, 561087.5, 561062.5, 561037.5,
           561012.5, 560987.5, 560962.5, 560937.5, 560912.5, 560887.5, 560862.5,
           560837.5, 560812.5, 560787.5, 560762.5, 560737.5, 560712.5, 560687.5,
           560662.5, 560637.5, 560612.5, 560587.5, 560562.5, 560537.5, 560512.5,
           560487.5, 560462.5, 560437.5, 560412.5, 560387.5, 560362.5, 560337.5,
           560312.5, 560287.5, 560262.5, 560237.5, 560212.5, 560187.5, 560162.5,
           560137.5, 560112.5, 560087.5, 560062.5, 560037.5, 560012.5, 559987.5,
           559962.5, 559937.5, 559912.5, 559887.5, 559862.5, 559837.5, 559812.5,
           559787.5, 559762.5, 559737.5, 559712.5, 559687.5, 559662.5, 559637.5,
           559612.5, 559587.5, 559562.5, 559537.5, 559512.5, 559487.5, 559462.5,
           559437.5, 559412.5, 559387.5, 559362.5, 559337.5, 559312.5, 559287.5,
           559262.5, 559237.5, 559212.5, 559187.5, 559162.5, 559137.5, 559112.5,
           559087.5, 559062.5, 559037.5, 559012.5])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dx</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>25.0</div><input id='attrs-c92cb8f5-62d4-4a79-86da-0f9a3b421b35' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c92cb8f5-62d4-4a79-86da-0f9a3b421b35' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-710e0585-de5c-4a6a-a313-61d7ddc6d2a8' class='xr-var-data-in' type='checkbox'><label for='data-710e0585-de5c-4a6a-a313-61d7ddc6d2a8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(25.)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dy</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-25.0</div><input id='attrs-e782e903-57df-49ad-a421-ecc98bffd9c4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e782e903-57df-49ad-a421-ecc98bffd9c4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d15b1b17-adb8-4de0-8ab2-88b91667480f' class='xr-var-data-in' type='checkbox'><label for='data-d15b1b17-adb8-4de0-8ab2-88b91667480f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(-25.)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>layer</span></div><div class='xr-var-dims'>(layer)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1 2 3 4 5 6 7 ... 15 16 17 18 19 20</div><input id='attrs-556511bd-186e-4809-b161-9562ad94117f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-556511bd-186e-4809-b161-9562ad94117f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0673e4e8-9b86-4dc0-a41f-00399ad02a85' class='xr-var-data-in' type='checkbox'><label for='data-0673e4e8-9b86-4dc0-a41f-00399ad02a85' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
           19, 20])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-2b613b30-3287-44fa-aefa-431608abfc03' class='xr-section-summary-in' type='checkbox'  checked><label for='section-2b613b30-3287-44fa-aefa-431608abfc03' class='xr-section-summary' >Data variables: <span>(8)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>stage</span></div><div class='xr-var-dims'>(layer, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-eb99de44-46a5-48e1-9bb8-03fc661c0e4b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-eb99de44-46a5-48e1-9bb8-03fc661c0e4b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b6e623d2-0edf-41a9-930f-5756eb70ef17' class='xr-var-data-in' type='checkbox'><label for='data-b6e623d2-0edf-41a9-930f-5756eb70ef17' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[      nan,       nan,       nan, ..., 1.9508   , 1.9358001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.9258001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.7708   ,
             1.6558001],
            ...,
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan]],

           [[      nan,       nan,       nan, ..., 1.9508   , 1.9358001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.9258001,
             1.9258001],
            [      nan,       nan,       nan, ...,       nan, 1.7708   ,
             1.6558001],
    ...
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan]],

           [[      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            ...,
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan],
            [      nan,       nan,       nan, ...,       nan,       nan,
                   nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>conductance</span></div><div class='xr-var-dims'>(layer, y, x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-53d9cd19-ffc9-4c8c-a1dc-3407c8b597f6' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-53d9cd19-ffc9-4c8c-a1dc-3407c8b597f6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e7d7e00c-9ada-4abf-8976-26372a59b88e' class='xr-var-data-in' type='checkbox'><label for='data-e7d7e00c-9ada-4abf-8976-26372a59b88e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[        nan,         nan,         nan, ..., 14.93000031,
              1.35500002, 14.93000031],
            [        nan,         nan,         nan, ...,         nan,
              2.25999999, 13.11999989],
            [        nan,         nan,         nan, ...,         nan,
              0.44999999,  3.89000003],
            ...,
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan],
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan],
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan]],

           [[        nan,         nan,         nan, ..., 14.93000031,
              1.35500002, 14.93000031],
            [        nan,         nan,         nan, ...,         nan,
              2.25999999, 13.11999989],
            [        nan,         nan,         nan, ...,         nan,
              0.44999999,  3.89000003],
    ...
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan],
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan],
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan]],

           [[        nan,         nan,         nan, ...,         nan,
                     nan,         nan],
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan],
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan],
            ...,
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan],
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan],
            [        nan,         nan,         nan, ...,         nan,
                     nan,         nan]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>bottom_elevation</span></div><div class='xr-var-dims'>(layer, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-adea4849-08fe-45c7-9977-0fbc361da10a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-adea4849-08fe-45c7-9977-0fbc361da10a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-05ab332c-08c0-4b16-a144-e5df65b87240' class='xr-var-data-in' type='checkbox'><label for='data-05ab332c-08c0-4b16-a144-e5df65b87240' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[ nan,  nan,  nan, ..., 1.39, 1.36, 1.34],
            [ nan,  nan,  nan, ...,  nan, 1.34, 1.34],
            [ nan,  nan,  nan, ...,  nan, 1.03, 0.51],
            ...,
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan]],

           [[ nan,  nan,  nan, ..., 1.39, 1.36, 1.34],
            [ nan,  nan,  nan, ...,  nan, 1.34, 1.34],
            [ nan,  nan,  nan, ...,  nan, 1.03, 0.51],
            ...,
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan]],

           [[ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan, 0.51],
            ...,
    ...
            ...,
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan]],

           [[ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            ...,
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan]],

           [[ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            ...,
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan],
            [ nan,  nan,  nan, ...,  nan,  nan,  nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>print_input</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>bool</div><div class='xr-var-preview xr-preview'>False</div><input id='attrs-930572f2-cba9-40ea-8a55-f74b897d23b1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-930572f2-cba9-40ea-8a55-f74b897d23b1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a195c816-8103-4e7a-8c59-8fb8354c3af6' class='xr-var-data-in' type='checkbox'><label for='data-a195c816-8103-4e7a-8c59-8fb8354c3af6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(False)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>print_flows</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>bool</div><div class='xr-var-preview xr-preview'>False</div><input id='attrs-60a0b503-2539-4795-839e-01945757f307' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-60a0b503-2539-4795-839e-01945757f307' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5e481b3c-1af5-4ba4-9418-97aa5b1b99ed' class='xr-var-data-in' type='checkbox'><label for='data-5e481b3c-1af5-4ba4-9418-97aa5b1b99ed' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(False)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>save_flows</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>bool</div><div class='xr-var-preview xr-preview'>False</div><input id='attrs-ef820363-6db7-44eb-b70a-42357e3786f5' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ef820363-6db7-44eb-b70a-42357e3786f5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2dad3703-a9b7-4251-b15c-54d986cfcd1a' class='xr-var-data-in' type='checkbox'><label for='data-2dad3703-a9b7-4251-b15c-54d986cfcd1a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(False)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>observations</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>None</div><input id='attrs-5fbc22bb-2b7c-4ea0-a90b-4e8a110b97a3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-5fbc22bb-2b7c-4ea0-a90b-4e8a110b97a3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6b9231a1-350a-44e8-9b9c-eaffa9e0e76c' class='xr-var-data-in' type='checkbox'><label for='data-6b9231a1-350a-44e8-9b9c-eaffa9e0e76c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(None, dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>repeat_stress</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>None</div><input id='attrs-e3dbf6d0-160f-49c9-8993-c1138184d1ff' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e3dbf6d0-160f-49c9-8993-c1138184d1ff' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-55728568-febf-4d82-9c16-0eb83d10d48c' class='xr-var-data-in' type='checkbox'><label for='data-55728568-febf-4d82-9c16-0eb83d10d48c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(None, dtype=object)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-55d1a05e-e41d-4b22-b872-7c00f3e2544f' class='xr-section-summary-in' type='checkbox'  ><label for='section-55d1a05e-e41d-4b22-b872-7c00f3e2544f' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-28d1d181-7235-4892-bcc4-0ea90fc68e05' class='xr-index-data-in' type='checkbox'/><label for='index-28d1d181-7235-4892-bcc4-0ea90fc68e05' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([237512.5, 237537.5, 237562.5, 237587.5, 237612.5, 237637.5, 237662.5,
           237687.5, 237712.5, 237737.5,
           ...
           249762.5, 249787.5, 249812.5, 249837.5, 249862.5, 249887.5, 249912.5,
           249937.5, 249962.5, 249987.5],
          dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=500))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-fe69660b-8949-4a16-bc97-4e366c6ff73e' class='xr-index-data-in' type='checkbox'/><label for='index-fe69660b-8949-4a16-bc97-4e366c6ff73e' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([563987.5, 563962.5, 563937.5, 563912.5, 563887.5, 563862.5, 563837.5,
           563812.5, 563787.5, 563762.5,
           ...
           559237.5, 559212.5, 559187.5, 559162.5, 559137.5, 559112.5, 559087.5,
           559062.5, 559037.5, 559012.5],
          dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=200))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>layer</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-d3d1e6c0-a427-4c16-831b-14638a7b4f9f' class='xr-index-data-in' type='checkbox'/><label for='index-d3d1e6c0-a427-4c16-831b-14638a7b4f9f' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], dtype=&#x27;int64&#x27;, name=&#x27;layer&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-cf517403-93c4-46c8-9898-646396c4c793' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-cf517403-93c4-46c8-9898-646396c4c793' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>
    </div>
    <br />
    <br />


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 10.272 seconds)


.. _sphx_glr_download_user-guide_09-topsystem.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: 09-topsystem.ipynb <09-topsystem.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: 09-topsystem.py <09-topsystem.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: 09-topsystem.zip <09-topsystem.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
